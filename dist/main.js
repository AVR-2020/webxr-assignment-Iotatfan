/*! For license information please see main.js.LICENSE.txt */
(()=>{var t,e={972:t=>{var e;window,e=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="./index.js")}({"./index.js":function(t,e,i){"use strict";var n=AFRAME.utils.styleParser;if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("event-set",{schema:{default:"",parse:function(t){return n.parse(t)}},multiple:!0,init:function(){this.eventHandler=null,this.eventName=null},update:function(t){this.removeEventListener(),this.updateEventListener(),this.addEventListener()},remove:function(){this.removeEventListener()},pause:function(){this.removeEventListener()},play:function(){this.addEventListener()},updateEventListener:function(){var t,e,i,n=this,a=this.data,s=this.el;t=a._event||this.id,e=a._target,i=e?s.sceneEl.querySelector(e):s,this.eventName=t;var r=function(){var t;for(t in a)"_event"!==t&&"_target"!==t&&AFRAME.utils.entity.setComponentProperty.call(n,i,t,a[t])};isNaN(a._delay)?this.eventHandler=r:this.eventHandler=function(){setTimeout(r,parseFloat(a._delay))}},addEventListener:function(){this.el.addEventListener(this.eventName,this.eventHandler)},removeEventListener:function(){this.el.removeEventListener(this.eventName,this.eventHandler)}})}})},t.exports=e()},238:()=>{var t,e=AFRAME.utils.debug,i=AFRAME.utils.coordinates,n=e("components:look-at:warn"),a=i.isCoordinates||i.isCoordinate;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"0 0 0",parse:function(t){return a(t)||"object"==typeof t?i.parse(t):t},stringify:function(t){return"object"==typeof t?i.stringify(t):t}},init:function(){this.target3D=null,this.vector=new THREE.Vector3,this.cameraListener=AFRAME.utils.bind(this.cameraListener,this),this.el.addEventListener("componentinitialized",this.cameraListener),this.el.addEventListener("componentremoved",this.cameraListener)},update:function(){var t,e=this,i=e.data;return!i||"object"==typeof i&&!Object.keys(i).length?e.remove():"object"==typeof i?this.lookAt(new THREE.Vector3(i.x,i.y,i.z)):(t=e.el.sceneEl.querySelector(i))?t.hasLoaded?e.beginTracking(t):t.addEventListener("loaded",(function(){e.beginTracking(t)})):void n('"'+i+'" does not point to a valid entity to look-at')},tick:(t=new THREE.Vector3,function(e){var i=this.target3D;i&&(i.getWorldPosition(t),this.lookAt(t))}),remove:function(){this.el.removeEventListener("componentinitialized",this.cameraListener),this.el.removeEventListener("componentremoved",this.cameraListener)},beginTracking:function(t){this.target3D=t.object3D},cameraListener:function(t){t.detail&&"camera"===t.detail.name&&this.update()},lookAt:function(t){var e=this.vector,i=this.el.object3D;this.el.getObject3D("camera")?e.subVectors(i.position,t).add(i.position):e.copy(t),i.lookAt(e)}})},571:()=>{AFRAME.registerComponent("proxy-event",{schema:{captureBubbles:{default:!1},enabled:{default:!0},event:{type:"string"},from:{type:"string"},to:{type:"string"},as:{type:"string"},bubbles:{default:!1}},multiple:!0,init:function(){var t,e,i,n=this.data,a=this.el,s=this;if(n.from?t="PARENT"===n.from?[a.parentNode]:document.querySelectorAll(n.from):i="CHILDREN"===n.to?a.querySelectorAll("*"):"SELF"===n.to?[a]:document.querySelectorAll(n.to),n.from)for(e=0;e<t.length;e++)this.addEventListenerFrom(t[e]);else a.addEventListener(n.event,(function(t){var n=s.data;if(n.enabled&&(n.captureBubbles||t.target===a))for(e=0;e<i.length;e++)i[e].emit(n.as||n.event,t.detail?t.detail:null,n.bubbles)}))},addEventListenerFrom:function(t){var e=this.data,i=this;t.addEventListener(e.event,(function(e){var n=i.data;n.enabled&&(n.captureBubbles||e.target===t)&&i.el.emit(n.as||n.event,e.detail?e.detail:null,!1)}))}})},479:()=>{if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("slice9",{schema:{width:{default:1,min:0},height:{default:1,min:0},left:{default:0,min:0},right:{default:0,min:0},bottom:{default:0,min:0},top:{default:0,min:0},side:{default:"front",oneOf:["front","back","double"]},padding:{default:.1,min:.01},color:{type:"color",default:"#fff"},opacity:{default:1,min:0,max:1},transparent:{default:!0},debug:{default:!1},src:{type:"map"}},multiple:!1,init:function(){var t=this.data,e=this.material=new THREE.MeshBasicMaterial({color:t.color,opacity:t.opacity,transparent:t.transparent,wireframe:t.debug}),i=this.geometry=new THREE.PlaneBufferGeometry(t.width,t.height,3,3);new THREE.TextureLoader,this.plane=new THREE.Mesh(i,e),this.el.setObject3D("mesh",this.plane),this.textureSrc=null},updateMap:function(){var t=this.data.src;if(t){if(t===this.textureSrc)return;return this.textureSrc=t,void this.el.sceneEl.systems.material.loadTexture(t,{src:t},e.bind(this))}function e(t){this.material.map=t,this.material.needsUpdate=!0,this.regenerateMesh()}this.material.map&&e(null)},regenerateMesh:function(){var t=this.data,e=this.geometry.attributes.position.array,i=this.geometry.attributes.uv.array,n=this.material.map.image;if(n){var a={left:t.left/n.width,right:t.right/n.width,top:t.top/n.height,bottom:t.bottom/n.height};u(1,a.left,1),u(2,a.right,1),u(4,0,a.bottom),u(5,a.left,a.bottom),u(6,a.right,a.bottom),u(7,1,a.bottom),u(8,0,a.top),u(9,a.left,a.top),u(10,a.right,a.top),u(11,1,a.top),u(13,a.left,0),u(14,a.right,0);var s=t.width/2,r=t.height/2,o=-s+t.padding,l=s-t.padding,d=r-t.padding,h=-r+t.padding;c(0,-s,r),c(1,o,r),c(2,l,r),c(3,s,r),c(4,-s,d),c(5,o,d),c(6,l,d),c(7,s,d),c(8,-s,h),c(9,o,h),c(10,l,h),c(11,s,h),c(13,o,-r),c(14,l,-r),c(12,-s,-r),c(15,s,-r),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0}function c(t,i,n){e[3*t]=i,e[3*t+1]=n}function u(t,e,n){i[2*t]=e,i[2*t+1]=n}},update:function(t){var e=this.data;this.material.color.setStyle(e.color),this.material.opacity=e.opacity,this.material.transparent=e.transparent,this.material.wireframe=e.debug,this.material.side=function(t){switch(t){case"back":return THREE.BackSide;case"double":return THREE.DoubleSide;default:return THREE.FrontSide}}(e.side);var i=AFRAME.utils.diff(e,t);"src"in i?this.updateMap():("width"in i||"height"in i||"padding"in i||"left"in i||"top"in i||"bottom"in i||"right"in i)&&this.regenerateMesh()},remove:function(){},pause:function(){},play:function(){}})},596:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([function(t,e,i){"use strict";var n={};t.exports.select=function(t,e,i){return n[e]||(n[e]=new Function("state","item","return "+d(e)+";")),n[e](t,i)};var a=/\.([A-Za-z][\w_-]*)/g,s=/([=&|!?:+-])(\s*)([\(]?)([A-Za-z][\w_-]*)/g,r=/^([\(]?)([A-Za-z][\w_-]*)/g,o=/state\["item"\]/g,l=/state\["(true|false)"\]/g;function d(t){return(t=(t=(t=(t=t.replace(a,'["$1"]')).replace(r,'$1state["$2"]')).replace(s,'$1$2$3state["$4"]')).replace(o,"item")).replace(l,"$1")}function h(){var t=arguments;return function(){var e;for(e=0;e<t.length;e++)t[e].apply(this,arguments)}}t.exports.generateExpression=d,t.exports.clearObject=function(t){for(var e in t)delete t[e]},t.exports.composeHandlers=function(){var t,e,i,n=arguments;for(i={},e=0;e<n.length;e++)for(t in n[e])t in i?i[t].constructor===Array?i[t].push(n[e][t]):i[t]=[i[t],n[e][t]]:i[t]=n[e][t];for(t in i)i[t].constructor===Array&&(i[t]=h.apply(this,i[t]));return i},t.exports.composeFunctions=h;var c=["||","&&","!=","!==","==","===",">","<","<=",">="],u=/\s+/,y=/\(|\)|\!/g;function m(t){return-1===(t=function(t){return 0===t.indexOf("!!")?t.replace("!!",""):0===t.indexOf("!")?t.replace("!",""):t}(t.trim())).indexOf(".")?t:t.substring(0,t.indexOf("."))}t.exports.parseKeysToWatch=function(t,e,i){var n,a;for(a=f(e,u),n=0;n<a.length;n++)if(-1===c.indexOf(a[n])&&!a[n].startsWith("'")&&-1===t.indexOf(a[n])){if(i&&"item"===a[n])continue;t.push(m(a[n]).replace(y,""))}return t};var p={};function f(t,e){return p[e]||(p[e]={}),p[e][t]||(p[e][t]=t.split(e)),p[e][t]}t.exports.split=f,t.exports.copyArray=function(t,e){var i;for(t.length=0,i=0;i<e.length;i++)t[i]=e[i]}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i(2);var a,s,r=i(3),o=i(0),l=i(4).wrapArray,d={initialState:{},nonBindedStateKeys:[],handlers:{},computeState:[function(){}]},h="object";AFRAME.registerState=function(t){var e=d.computeState;t.computeState&&e.push(t.computeState),AFRAME.utils.extendDeep(d,t),d.computeState=e},AFRAME.registerSystem("state",{init:function(){var t,e=this;for(t in this.arrays=[],this.dirtyArrays=[],this.diff={},this.state=AFRAME.utils.clone(d.initialState),this.subscriptions=[],this.initEventHandlers(),this.state)this.state[t]&&this.state[t].constructor===Array&&(this.arrays.push(t),this.state[t].__dirty=!0,l(this.state[t]));this.lastState=AFRAME.utils.clone(this.state),this.eventDetail={lastState:this.lastState,state:this.state},this.el.addEventListener("loaded",(function(){var t;for(t=0;t<d.computeState.length;t++)d.computeState[t](e.state,"@@INIT");for(t=0;t<e.subscriptions.length;t++)e.subscriptions[t].onStateUpdate(e.state)}))},dispatch:(s=[],function(t,e){var i,n;for(d.handlers[t](this.state,e),i=0;i<d.computeState.length;i++)d.computeState[i](this.state,t,e);for(n in this.diff)delete this.diff[n];for(r(this.lastState,this.state,this.diff,d.nonBindedStateKeys),this.dirtyArrays.length=0,i=0;i<this.arrays.length;i++)this.state[this.arrays[i]].__dirty&&this.dirtyArrays.push(this.arrays[i]);for(s.length=0,i=0;i<this.subscriptions.length;i++){if("bind-for"===this.subscriptions[i].name){if(!this.state[this.subscriptions[i].keysToWatch[0]].__dirty)continue}else if(!this.shouldUpdate(this.subscriptions[i].keysToWatch,this.diff,this.dirtyArrays))continue;-1===s.indexOf(this.subscriptions[i])&&s.push(this.subscriptions[i])}for(i=0;i<s.length;i++)s[i].onStateUpdate();for(n in this.state)this.state[n]&&this.state[n].constructor===Array&&(this.state[n].__dirty=!1);this.copyState(this.lastState,this.state),this.eventDetail.action=t,this.eventDetail.payload=e,this.el.emit("stateupdate",this.eventDetail)}),copyState:function(t,e,i){var n;for(n in e)if(i||-1===d.nonBindedStateKeys.indexOf(n))if(e[n]&&e[n].constructor===Object){if(!(n in t)){t[n]=AFRAME.utils.clone(e[n]);continue}this.copyState(t[n],e[n],!0)}else t[n]=e[n]},subscribe:function(t){this.subscriptions.push(t)},unsubscribe:function(t){this.subscriptions.splice(this.subscriptions.indexOf(t),1)},shouldUpdate:function(t,e,i){for(var n=0;n<t.length;n++)if(t[n]in e||-1!==i.indexOf(t[n]))return!0;return!1},initEventHandlers:function(){var t,e=[];for(t in i=i.bind(this),d.handlers)-1===e.indexOf(t)&&(e.push(t),i(t));function i(t){var e=this;this.el.addEventListener(t,(function(i){e.dispatch(t,i.detail)}))}},renderTemplate:(a=/{{\s*(\w*\.)?([\w.]+)\s*}}/g,function(t,e,i){var s,r;if(r=t,e)for(;s=a.exec(t);)r=r.replace(s[0],(void 0===e?"undefined":n(e))===h?o.select(e,s[2])||"":e);return i?r:document.createRange().createContextualFragment(r)}),select:o.select}),AFRAME.registerComponent("bind",{schema:{default:{},parse:function(t){var e,i,n,a;if(t.constructor===Object)return t;if(-1===t.indexOf(":"))return t;for(e={},n=o.split(t,";"),i=0;i<n.length;i++)e[(a=o.split(n[i].trim(),":"))[0]]=a[1].trim();return e}},multiple:!0,init:function(){var t;this.data,this.keysToWatch=[],this.onStateUpdate=this.onStateUpdate.bind(this),this.system=this.el.sceneEl.systems.state,this.id&&(t=o.split(this.id,"__")[0]),this.isNamespacedBind=this.id&&t in AFRAME.components&&!AFRAME.components[t].isSingleProp||t in AFRAME.systems,this.lastData={},this.updateObj={},this.system.subscribe(this),this.onStateUpdate=this.onStateUpdate.bind(this)},update:function(){var t,e=this.data;if(this.keysToWatch.length=0,"string"==typeof e)o.parseKeysToWatch(this.keysToWatch,e);else for(t in e)o.parseKeysToWatch(this.keysToWatch,e[t]);this.onStateUpdate()},onStateUpdate:function(){var t,e,i,a,s=!1,r=this.el;if(r.parentNode){if(this.isNamespacedBind&&o.clearObject(this.updateObj),i=this.system.state,n(this.data)!==h){try{a=o.select(i,this.data)}catch(t){throw new Error("[aframe-state-component] Key '"+this.data+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}if((void 0===a?"undefined":n(a))!==h&&n(this.lastData)!==h&&this.lastData===a)return;return AFRAME.utils.entity.setComponentProperty(r,this.id,a),void(this.lastData=a)}for(t in this.data){e=this.data[t].trim();try{a=o.select(i,e)}catch(t){throw console.log(t),new Error("[aframe-state-component] Key '"+e+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}if((void 0===a?"undefined":n(a))===h||n(this.lastData[t])===h||this.lastData[t]!==a){if(t in AFRAME.components&&void 0===a)return void r.removeAttribute(t);this.isNamespacedBind?this.updateObj[t]=a:AFRAME.utils.entity.setComponentProperty(r,t,a),this.lastData[t]=a}}for(s in this.updateObj);this.isNamespacedBind&&s&&r.setAttribute(this.id,this.updateObj)}},remove:function(){this.system.unsubscribe(this)}}),AFRAME.registerComponent("bind-toggle",{schema:{type:"string"},multiple:!0,init:function(){this.system=this.el.sceneEl.systems.state,this.keysToWatch=[],this.onStateUpdate=this.onStateUpdate.bind(this),this.system.subscribe(this),this.onStateUpdate()},update:function(){this.keysToWatch.length=0,o.parseKeysToWatch(this.keysToWatch,this.data)},onStateUpdate:function(){var t,e,i=this.el;t=this.system.state;try{e=o.select(t,this.data)}catch(t){throw new Error("[aframe-state-component] Key '"+this.data+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}e?i.setAttribute(this.id,""):i.removeAttribute(this.id)},remove:function(){this.system.unsubscribe(this)}}),t.exports={composeFunctions:o.composeFunctions,composeHandlers:o.composeHandlers,select:o.select}},function(t,e,i){"use strict";var n,a,s=i(0);AFRAME.registerComponent("bind-for",{schema:{delay:{default:0},for:{type:"string",default:"item"},in:{type:"string"},key:{type:"string"},pool:{default:0},template:{type:"string"},updateInPlace:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.state,this.onStateUpdate=this.onStateUpdate.bind(this),this.keysToWatch=[],this.renderedKeys=[],this.system.subscribe(this),this.el.children[0]&&"TEMPLATE"===this.el.children[0].tagName?this.template=this.el.children[0].innerHTML.trim():this.template=document.querySelector(this.data.template).innerHTML.trim();for(var t=0;t<this.data.pool;t++)this.el.appendChild(this.generateFromTemplate(null,t))},update:function(){this.keysToWatch[0]=s.split(this.data.in,".")[0],this.onStateUpdate()},onStateUpdateNaive:(a=[],function(){var t,e=this.data,i=this.el;try{t=s.select(this.system.state,e.in)}catch(t){throw new Error("[aframe-state-component] Key '"+e.in+"' not found in state. #"+i.getAttribute("id")+"["+this.attrName+"]")}a.length=0;for(var n=0;n<t.length;n++){var r=t[n];a.push(e.key?r[e.key].toString():r.toString())}for(var o=this.getElsToRemove(a,this.renderedKeys),l=0;l<o.length;l++)o[l].parentNode.removeChild(o[l]);t.length&&this.renderItems(t,a,0)}),renderItems:function(t,e,i){var n,a=this,s=this.data,r=this.el,o=t[i],l=s.key?o[s.key].toString():o.toString();if(-1===this.renderedKeys.indexOf(l))n=this.generateFromTemplate(o,i),r.appendChild(n),this.renderedKeys.push(l);else{if(t.length&&t[0].constructor===String){var d=s.key?o[s.key].toString():o.toString();(n=r.querySelector('[data-bind-for-value="'+d+'"]')).setAttribute("data-bind-for-key",i)}else{var h=this.getBindForKey(o,i);n=r.querySelector('[data-bind-for-key="'+h+'"]')}n.emit("bindforupdate",o,!1)}t[i+1]&&(this.data.delay?setTimeout((function(){a.renderItems(t,e,i+1)}),this.data.delay):this.renderItems(t,e,i+1))},onStateUpdateInPlace:function(){var t=[];return function(){var e,i,n=this.data,a=this.el;try{e=s.select(this.system.state,n.in)}catch(t){throw console.log(t),new Error("[aframe-state-component] Key '"+n.in+"' not found in state. #"+a.getAttribute("id")+"["+this.attrName+"]")}t.length=0;for(var r=0;r<e.length;r++){var o=e[r];i=n.key?o[n.key].toString():o.toString(),t.push(i)}for(var l=this.getElsToRemove(t,this.renderedKeys),d=0;d<l.length;d++)l[d].object3D.visible=!1,l[d].setAttribute("data-bind-for-active","false"),l[d].removeAttribute("data-bind-for-key"),l[d].removeAttribute("data-bind-for-value"),l[d].emit("bindfordeactivate",null,!1),l[d].pause();e.length&&this.renderItemsInPlace(e,t,0)}}(),renderItemsInPlace:function(t,e,i){var n,a=this,s=this.data,r=this.el,o=t[i],l=this.getBindForKey(o,i),d=s.key?o[s.key].toString():o.toString();if(-1===this.renderedKeys.indexOf(d)){if(r.querySelector(':scope > [data-bind-for-active="false"]'))(n=r.querySelector('[data-bind-for-active="false"]')).setAttribute("data-bind-for-key",l),n.setAttribute("data-bind-for-value",d),n.object3D.visible=!0,n.play(),n.setAttribute("data-bind-for-active","true"),n.emit("bindforupdateinplace",o,!1);else{var h=this.generateFromTemplate(o,i);h.addEventListener("loaded",(function(){h.emit("bindforupdateinplace",o,!1)})),r.appendChild(h)}this.renderedKeys.push(d)}else-1!==e.indexOf(d)&&(t.length&&t[0].constructor===String?(n=r.querySelector('[data-bind-for-value="'+d+'"]')).setAttribute("data-bind-for-key",i):n=r.querySelector('[data-bind-for-key="'+l+'"]'),n.emit("bindforupdateinplace",o,!1));t[i+1]&&(this.data.delay?setTimeout((function(){a.renderItemsInPlace(t,e,i+1)}),this.data.delay):this.renderItemsInPlace(t,e,i+1))},generateFromTemplate:function(t,e){var i=this.data;this.el.appendChild(this.system.renderTemplate(this.template,t));var n=this.el.children[this.el.children.length-1];if(!t)return n.setAttribute("data-bind-for-key",""),n.setAttribute("data-bind-for-active","false"),n;var a=this.getBindForKey(t,e);return n.setAttribute("data-bind-for-key",a),i.key||n.setAttribute("data-bind-for-value",t),n.setAttribute("data-bind-for-active","true"),n},getElsToRemove:(n=[],function(t,e){var i=this.data,a=this.el;n.length=0;for(var s=0;s<a.children.length;s++)if("TEMPLATE"!==a.children[s].tagName){var r=i.key?a.children[s].getAttribute("data-bind-for-key"):a.children[s].getAttribute("data-bind-for-value");-1===t.indexOf(r)&&-1!==e.indexOf(r)&&(n.push(a.children[s]),e.splice(e.indexOf(r),1))}return n}),getBindForKey:function(t,e){return this.data.key?t[this.data.key].toString():e.toString()},onStateUpdate:function(){this.data.updateInPlace?this.onStateUpdateInPlace():this.onStateUpdateNaive()}}),AFRAME.registerComponent("bind-item",{schema:{type:"string"},multiple:!0,init:function(){this.itemData=null,this.keysToWatch=[],this.prevValues={};var t=this.rootEl=this.el.closest("[data-bind-for-key]");if(!t)throw new Error("bind-item component must be attached to entity under a bind-for item.");t.addEventListener("bindforupdateinplace",this.updateInPlace.bind(this)),t.addEventListener("bindfordeactivate",this.deactivate.bind(this)),this.el.sceneEl.systems.state.subscribe(this)},update:function(){this.parseSelector()},updateInPlace:function(t){var e=this.propertyMap;if("false"!==this.rootEl.getAttribute("data-bind-for-active"))for(var i in t&&(this.itemData=t.detail),e){var n=this.select(this.itemData,e[i]);n!==this.prevValues[i]&&(AFRAME.utils.entity.setComponentProperty(this.el,i,n),this.prevValues[i]=n)}},onStateUpdate:function(){this.updateInPlace()},select:function(t,e){return s.select(this.el.sceneEl.systems.state.state,e,t)},deactivate:function(){this.prevValues={}},parseSelector:function(){var t=this.propertyMap={};this.keysToWatch.length=0;var e=s.split(this.id,"__")[0];if(!(e in AFRAME.components)||AFRAME.components[e].isSingleProp)t[this.id]=this.data,s.parseKeysToWatch(this.keysToWatch,this.data,!0);else for(var i=s.split(this.data,";"),n=0;n<i.length;n++){var a=s.split(i[n],":");t[this.id+"."+a[0].trim()]=a[1].trim(),s.parseKeysToWatch(this.keysToWatch,a[1].trim(),!0)}}})},function(t,e,i){"use strict";var n;t.exports=(n=[],function(t,e,i,a){var s,r,o,l,d,h,c;for(d in l=i||{},n.length=0,t)n.push(d);if(!e)return l;for(o in e)-1===n.indexOf(o)&&n.push(o);for(h=0;h<n.length;h++)d=n[h],a&&-1!==a.indexOf(d)||(s=t[d],r=e[d],((c=s&&r&&s.constructor===Object&&r.constructor===Object)&&!AFRAME.utils.deepEqual(s,r)||!c&&s!==r)&&(l[d]=r));return l})},function(t,e,i){"use strict";var n=["push","pop","shift","unshift","splice"];function a(t,e){var i=t[e];t[e]=function(){i.apply(t,arguments),t.__dirty=!0}}t.exports.wrapArray=function(t){var e;if(!t.__wrapped){for(e=0;e<n.length;e++)a(t,n[e]);t.__wrapped=!0}}}])},t.exports=e()},187:()=>{document.addEventListener("DOMContentLoaded",(function(){let t=document.getElementById("app");t||(t=document.createElement("div"),t.id="app",document.body.appendChild(t)),t.innerHTML='<a-scene\n    background="color: #87ceeb"\n    fog="type: linear; color: #87ceeb; near: 50; far: 80"\n    leaderboard\n    light="defaultLightsEnabled: false"\n    physics="debug: false"\n    render-order="playfield, thrower, ball, menu, menuitem, menubutton, menutext, hud"\n    renderer="colorManagement: true"\n    shadow="type: pcf"\n>\n    \x3c!-- LIGHT --\x3e\n    <a-entity light="type: ambient; intensity: 0.3;"></a-entity>\n    <a-entity light="type: point; \n        intensity: 1.0; \n        decay: 2;\n        castShadow: true; \n        shadowCameraVisible: false;"\n        position="0 50 0" ></a-entity>    \n    \n    \x3c!-- <a-entity fps-counter></a-entity> --\x3e\n  \n    \x3c!-- Load Assets --\x3e\n    <a-assets timeout="5000">\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrcassets.html"> --\x3e\n\x3c!-- Image --\x3e\n<img id="cursorMeshImg" src="assets/models/laser/laser.png">\n<img id="sliceImg" src="assets/img/border.png">\n\n\x3c!-- Models --\x3e\n<a-entity id="cursorLaser" obj-model="obj: #laserObj" visible="false"></a-entity>\n<a-asset-item id="ballMesh" src="assets/models/ball.gltf"></a-asset-item>\n<a-asset-item id="cloud" src="assets/models/cloud/cloud.obj"></a-asset-item>\n<a-asset-item id="cloudmtl" src="assets/models/cloud/cloud.mtl"></a-asset-item>\n<a-asset-item id="camdrone" src="assets/models/cam drone/model.obj"></a-asset-item>\n<a-asset-item id="camdronemtl" src="assets/models/cam drone/materials.mtl"></a-asset-item>\n<a-asset-item id="forest" src="assets/models/tree/forest.obj"></a-asset-item>\n<a-asset-item id="forestmtl" src="assets/models/tree/forest.mtl"></a-asset-item>\n<a-asset-item id="fountain" scale="2 2 2" src="assets/models/fountain/fountain.obj"></a-asset-item>\n<a-asset-item id="fountainmtl" src="assets/models/fountain/fountain.mtl"></a-asset-item>\n<a-asset-item id="gazebo" position="0 0 16.97724" rotation="0 53 0" src="assets/models/gazebo/gazebo.obj"></a-asset-item>\n<a-asset-item id="gazebomtl" src="assets/models/gazebo/gazebo.mtl"></a-asset-item>\n<a-asset-item id="laserObj" src="assets/models/laser/laser.obj"></a-asset-item>\n<a-asset-item id="pistol" src="assets/models/gun/glock.obj"></a-asset-item>\n<a-asset-item id="pistolmtl" src="assets/models/gun/glock.mtl"></a-asset-item>\n<a-asset-item id="shield" visible="false" scale="2 2 0.5" rotation="0 180 0" src="assets/models/shield/model.obj"></a-asset-item>\n<a-asset-item id="shieldmtl" src="assets/models/shield/materials.mtl"></a-asset-item>\n<a-asset-item id="tank" src="assets/models/tank.gltf"></a-asset-item>\n<a-asset-item id="tree" position="-3.02465 0 -27.95161" src="assets/models/tree/tree.obj"></a-asset-item>\n<a-asset-item id="treemtl" src="assets/models/tree/tree.mtl"></a-asset-item>\n\n\x3c!-- Audio --\x3e\n<a-audio id="bgm" src="assets/audio/bgm_0.mp3" preload="auto"></a-audio>\n<a-audio id="hit" src="assets/audio/ping.wav" preload="auto"></a-audio>\n\n\x3c!-- Mixin --\x3e\n<a-mixin\n    id="cursorMesh"\n    material="shader: flat; transparent: true; src: #cursorMeshImg; depthTest: false"\n    sub-object="from: #cursorLaser; name: glow"></a-mixin>\n\n<a-mixin\n    id="tree"\n    obj-model="obj: #tree; mtl: #treemtl" \n    scale="0.01 0.01 0.01" \n    shadow="receive: true" \n    render-order="playfield"></a-mixin>\n\n<a-mixin\n    id="font"></a-mixin>\n    \n<a-mixin\n    id="menuButton"\n    geometry="primitive: plane; width:1.5; height:0.35"\n    render-order="menubutton"></a-mixin>\n\n<a-mixin\n    id="menuText"\n    text="color: #000; align: center; width: 1; wrapCount: 12"></a-mixin>\n\n<a-mixin\n    id="scoreText"\n    text="color: #FFF; align: center; \n        width: 1; height: 24;\n        wrapCount: 12"></a-mixin>\n\n<a-mixin id="slice" slice9="color: #CCC; transparent: true; opacity: 1; left: 20; right: 43; top: 20; bottom: 43; padding:0.1; src: #sliceImg;"></a-mixin>\x3c!-- </require> --\x3e</require>\n    </a-assets>\n\n    \x3c!-- Load Templates --\x3e\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesenvironment.html"> --\x3e\n\x3c!-- GROUND --\x3e\n<a-entity id="environment">\n\n    <a-plane\n        static-body\n        id="ground" \n        static-body \n        position="0 0 0" \n        rotation="-90 0 0" \n        width="200" \n        height="200" \n        color="#8ECA58" \n        shadow="receive: true"\n    ></a-plane>\n\n    \x3c!-- Environment Objects --\x3e\n    <a-entity id="fountain" static-body="shape: auto" position="0 0 6" obj-model="obj: #fountain; mtl: #fountainmtl" scale="2 2 2" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity id="gazebo" static-body="shape: cylinder" rotation="0 53 0" position="0 0 16.97724" obj-model="obj: #gazebo; mtl: #gazebomtl" scale="1 1 1" shadow="receive: true" render-order="playfield"></a-entity>\n    \n    <a-entity static-body id="tree#1" position="-3.02465 0 -27.95161" obj-model="obj: #tree; mtl: #treemtl" scale="0.01 0.01 0.01" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity static-body id="tree#2" position="2.4415 0 -27.95161" obj-model="obj: #tree; mtl: #treemtl" scale="0.01 0.01 0.01" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity static-body id="tree#3" position="-10 0 -18" obj-model="obj: #tree; mtl: #treemtl" scale="0.01 0.01 0.01" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity static-body id="tree#4" position="10 0 -18" obj-model="obj: #tree; mtl: #treemtl" scale="0.01 0.01 0.01" shadow="receive: true" render-order="playfield"></a-entity>\n\n    \x3c!-- Clouds --\x3e\n    <a-entity id="cloud#1" rotation="0 0 0" position="0 50 -25" obj-model="obj: #cloud; mtl: #cloudmtl" scale="0.03 0.03 0.03" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity id="cloud#2" rotation="0 70 0" position="0 50 6.45848" obj-model="obj: #cloud; mtl: #cloudmtl" scale="0.03 0.03 0.03" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity id="cloud#3" rotation="0 36 0" position="-20.09358 50 -2.93617" obj-model="obj: #cloud; mtl: #cloudmtl" scale="0.03 0.03 0.03" shadow="receive: true" render-order="playfield"></a-entity>\n    \n    \x3c!-- Tree Barrier --\x3e\n    <a-entity  position="-0 -0.01 0">\n        <a-entity id="forest#1" static-body rotation="0 4.17 0" position="-20 0 -50" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#2" static-body rotation="0 6.02 0" position="-41.93437 0 -40" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#3" static-body rotation="0 0 0" position="-40.06503 0 47.063" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#4" static-body rotation="0 0 0" position="3.75423 0 -54.65186" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#5" static-body rotation="0 -6.47 0" position="27.93435 0 -49.93007" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#6" static-body rotation="0 -7.91 0" position="-57.76219 0 -24.37149" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#7" static-body rotation="0 -36.91 0" position="50.35229 0 -35.96899" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#8" static-body rotation="0 30 0" position="51.79623 0 -11.96787" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#9" static-body rotation="0 35 0" position="-60.37688 0 -4.809" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#10" static-body rotation="0 54.72 0" position="-63.01354 0 15.97112" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#11" static-body rotation="0 75 0" position="-58.24836 0 35.99521" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#12" static-body rotation="0 90 0" position="-15.69636 0 50.60834" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#13" static-body rotation="0 35 0" position="7.59546 0 47.63395" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#14" static-body rotation="0 60 0" position="33.77944 0 48.58182" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#15" static-body rotation="0 70 0" position="53.1873 0 32.42136" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#16" static-body rotation="0 60 0" position="58.77273 0 9.27566" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n    </a-entity>\n\n    </a-entity>\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesmenu.html"> --\x3e\n\x3c!-- Menu Container --\x3e\n<a-entity \n    id="menu"\n    bind__visible="menuActive"\n    position= "0 1.4 -2.3">\n\n    <a-entity\n        id="menuBackground"\n        mixin="slice"\n        slice9="width: 3.5; height: 2; side: double; transparent: true; debug: false;"\n        render-order="menu"\n        position="0 0 -2.5"></a-entity>\n\n    <a-entity id="mainMenu">\n        <a-plane\n            id="startButton" material="fog: true; side: front; transparent: false; wireframe: false; visible: true" geometry="skipCache: false"\n            mixin="menuButton"\n            clickable\n            bind-toggle__raycastable="menuActive"\n            proxy-event="event: click; to: a-scene; as: startgame"\n            position="0 0.3 -2.45"\n            render-order="menu">\n            <a-entity \n                id="startButtonText"\n                mixin="menuText" \n                text="value: Start Game; side: double"></a-entity>\n        </a-plane>\n\n        <a-plane\n            id="leaderboardButton"\n            mixin="menuButton"\n            bind-toggle__raycastable="menuActive"\n            proxy-event="event: click; to: a-scene; as: showleaderboard"\n            position="0 -0.3 -2.45"\n            render-order="menu">\n            <a-entity \n                id="startButtonText" \n                mixin="menuText"\n                text="value: Show Leaderboard"></a-entity>\n        </a-plane>\n    \n    </a-entity>\n\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesleaderboard.html"> --\x3e\n<a-entity\n    id= "leaderboard"\n    position= "3 0 -1.2"\n    rotation= "0 -60 0"\n    bind__visible="menuActive && leaderboardActive"\n    render-order="menuitem">\n\n    <a-entity\n        id="leaderboardBackground"\n        mixin="slice"\n        slice9="width: 3; height: 2.5; side: double"\n        render-order="menuitem"></a-entity>\n\n    <a-entity\n        id="leaderboardTitle"\n        mixin="scoreText"\n        text="align: center; width: 2.5; value: LEADERBOARD"\n        position="0.05 1 0.001"\n        bind__visible="!leaderboardQualified"></a-entity>\n\n    <a-entity\n        id="leaderboardNames"\n        mixin="scoreText"\n        bind__text="color: colorSecondary; value: leaderboard.names"\n        position="-0.7 0 0.001"></a-entity>\n    \n      <a-entity\n        id="leaderboardScores"\n        mixin="scoreText"\n        bind__text="value: leaderboard.scores"\n        position="0.7 0 0.001"></a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n</a-entity>\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesdroneShooter.html"> --\x3e\n\x3c!-- Placeholder for Thrower --\x3e\n<a-entity id="shooter" \n    static-body\n    gun\n    look-at="#randomTarget"\n    obj-model="obj: #camdrone; mtl: #camdronemtl" \n    position="0 2 -30" \n    rotation="0 0 0"\n    scale="3 3 3" \n    shadow="receive: true">\n\n    <a-entity \n        enemy gun\n        static-body \n        position="0 0 0"\n        rotation="0 -180 0"></a-entity>\n\n    <a-entity \n        id="ball" \n        ball \n        gltf-model="#ballMesh" \n        position="0 0 0" \n        scale="2.5 2.5 2.5" \n        shadow="receive: true"></a-entity>\n\n</a-entity>a\n\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesgameOverMenu.html"> --\x3e\n<a-entity id="gameOverContainer"\n    bind__visible="isGameOver"\n    position= "0 1.4 -2.3">\n\n    <a-entity\n        id="menuBackground"\n        mixin="slice"\n        slice9="width: 3.5; height: 2; side: double; transparent: true; debug: false;"\n        render-order="menu"\n        position="0 0.5 -1.5"></a-entity>\n\n        <a-entity \n            id="gameOverMenu"\n            position="0 1 -1.45">\n            \n            <a-entity id="scoreTextContainer">\n                <a-entity\n                    id="scoreText"\n                    bind__text="value: \'Your Score\'"\n                    mixin="scoreText"\n                    position="0 0.2 0"></a-entity>\n\n                <a-entity\n                    id="scoreText"\n                    bind__text="value: score.score"\n                    mixin="scoreText"\n                    position="0 0 0"></a-entity>\n            </a-entity>\n\n            <a-plane\n                id="startButton" \n                material="fog: true; side: front; transparent: false; wireframe: false; visible: true" \n                geometry="skipCache: false"\n                mixin="menuButton"\n                clickable\n                bind-toggle__raycastable="isGameOver"\n                proxy-event="event: click; to: a-scene; as: leaderboardsubmit"\n                position="0 -1 0"\n                render-order="menu">\n                <a-entity \n                    id="startButtonText"\n                    mixin="menuText" \n                    text="value: Submit; side: double"></a-entity>\n            </a-plane>\n        \n        </a-entity>\n\n        <a-entity\n            id="keyboard" rotation="-59.99999999999999 0 0" scale="4 4 4"\n            keyboard-raycastable="condition: isGameOver"\n            position="-0.00884 -0.51329 -0.10359"\n            proxy-event__change="event: superkeyboardchange; to: a-scene; as: leaderboardusername"\n            super-keyboard="hand: #mouseCursor; imagePath: assets/img/; model: basic"></a-entity>\n    \n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesleaderboard.html"> --\x3e\n<a-entity\n    id= "leaderboard"\n    position= "3 0 -1.2"\n    rotation= "0 -60 0"\n    bind__visible="menuActive && leaderboardActive"\n    render-order="menuitem">\n\n    <a-entity\n        id="leaderboardBackground"\n        mixin="slice"\n        slice9="width: 3; height: 2.5; side: double"\n        render-order="menuitem"></a-entity>\n\n    <a-entity\n        id="leaderboardTitle"\n        mixin="scoreText"\n        text="align: center; width: 2.5; value: LEADERBOARD"\n        position="0.05 1 0.001"\n        bind__visible="!leaderboardQualified"></a-entity>\n\n    <a-entity\n        id="leaderboardNames"\n        mixin="scoreText"\n        bind__text="color: colorSecondary; value: leaderboard.names"\n        position="-0.7 0 0.001"></a-entity>\n    \n      <a-entity\n        id="leaderboardScores"\n        mixin="scoreText"\n        bind__text="value: leaderboard.scores"\n        position="0.7 0 0.001"></a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n    \n</a-entity>\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templates\randomTarget.html"> --\x3e\n<a-entity\n    random-target\n    id="randomTarget"\n    position="0 2 0">\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n    \x3c!-- Audio on Player Location --\x3e\n    <a-entity sound="src: #bgm; lopop: true; autoplay: true: on: startgame; volume: 0.05; positional: false"></a-entity>\n    <a-entity sound="src: #hit; poolSize: 15; on: hit; positional: false"></a-entity>\n\n    \x3c!-- Player --\x3e\n    <a-entity \n      id="cameraRig" position="0.11744132142732938 0 0.11111629842663887"\n      movement-controls>\n      <a-camera\n        id="camera"\n        look-controls\n        position="0 2 0">\n\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesscoreboard.html"> --\x3e\n<a-entity\n    id="scoreboard"\n    bind__visible="isPlaying"\n    render-order="hud"\n    position="2.5 2 -3"\n    rotation="-10 -40 0">\n\n    \x3c!-- Create Transparent background --\x3e\n    <a-entity\n        id="scoreboardBackground"\n        mixin="slice"\n        slice9="width: 1; height: 0.8;; side: double"           \n        render-order="menu"></a-entity>\n\n    <a-entity id="scoreContainer">\n        <a-entity\n            id="score" text="side: front"\n            bind__text="value: score.score"\n            mixin="scoreText"\n            position="0 0.15 0"></a-entity>\n        <a-entity\n            id="streak"\n            bind__text="value: score.streak + \'x\'"\n            mixin="scoreText"\n            position="0 -0.15 0"></a-entity>\n    </a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templateslife.html"> --\x3e\n<a-entity\n    id="life"\n    bind__visible="isPlaying"\n    render-order="hud"\n    position="-2.5 2 -3"\n    rotation="-10 40 0">\n\n    <a-entity\n        id="lifeTextBackground"\n        mixin="slice"\n        slice9="width: 1; height: 0.5;; side: double"           \n        render-order="menu"></a-entity>\n\n    <a-entity id="lifetextContainer">\n        <a-entity\n            id="lifeText"\n            bind__text="value: \'Life \' + life"\n            mixin="scoreText"\n            position="0 0 0"></a-entity>\n    </a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n        <a-entity\n          target\n          id="mouseCursor"\n          cursor="rayOrigin: mouse"\n          raycaster="objects : #keyboard"\n          proxy-event__daydream="event: trackpaddown; to: #gun; as: triggerdown"\n          proxy-event__shoot="event: triggerdown; to: #gun; as: shoot"\n          proxy-event__shootsound="event: triggerdown; to: #soundShoot; as: shoot"\n          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.022"\n          bind__visible="isPlaying"\n          shooter\n          position="0 0 -0.15"\n          rotation="0 0 0"\n          click-to-shoot>\n          <a-entity\n           static-body\n            target\n            id="cursorModel" static-body="sphereRadius: NaN" visible="false"\n            obj-model="obj: #shield; mtl: #shieldmtl"  \n            position="0 0 -1"\n            rotation="0 -180 0"\n            scale="3 3 3"></a-entity>\n        </a-entity>\n\n      </a-camera>\n    </a-entity>\n  \n    \x3c!-- Controller --\x3e\n    <a-entity\n      shooter\n      id="rightControl"\n      vive-controls="hand: right; model: false;"\n      oculus-touch-controls="hand: right; model: false;"\n      daydream-controls="hand: right; model: false"\n      proxy-event__shoot="event: triggerdown; to: #rightGun; as: shoot"\n      raycaster="objects: [raycastable];">\n      <a-entity \n        obj-model="obj: #shield; mtl: #shieldmtl" \n        position="0 -0.2 -0.3"\n        rotation="0 90 0"\n          scale="1.2 1.2 1.2"></a-entity>\n    </a-entity>\n\n    <a-entity\n      target\n      id="leftControl"\n      vive-controls="hand: left; model: false;"\n      oculus-touch-controls="hand: left; model: false;"\n      daydream-controls="hand: left; model: false"\n      cursor="rayOrigin: mouse"\n      raycaster="objects: [raycastable];">\n      <a-entity \n        obj-model="obj: #shield; mtl: #shieldmtl" \n        position="0 -0.2 -0.3"\n        rotation="0 -90 0"\n        scale="1.2 1.2 1.2"></a-entity>\n    </a-entity>\n    \n</a-scene>'}))},22:()=>{var t,e,i;AFRAME.registerComponent("ball",{schema:{direction:{type:"vec3"},lifeTime:{default:5,type:"float"},name:{default:"normal",type:"string"},poolSize:{default:8,type:"float"},position:{type:"vec3"},speed:{default:10,type:"float"}},init:function(){var t=this.el;t.object3D.visible=!1,t.addEventListener("object3dset",(e=>{t.sceneEl.systems.ball.registerBall(this)}))},update:function(t){},remove:function(){},tick:function(t,e){},play:function(){}}),AFRAME.registerSystem("ball",{init:function(){var t;(t=document.createElement("a-entity")).id="ballContainer",this.el.sceneEl.appendChild(t),this.container=t.object3D,this.pool={},this.targets=[]},registerBall:function(t){var e,i,n,a;if(a=t.el.object3D)for(i=t.data,this.pool[i.name]=[],n=0;n<i.poolSize;n++)(e=a.clone()).direction=new THREE.Vector3(0,1,-1),e.lifeTime=1e3*i.lifeTime,e.name=i.name+n,e.speed=i.speed,e.time=0,e.visible=!1,this.pool[i.name].push(e)},registerTarget:function(t,e){var i;this.targets.push(t.el),e&&((i=t.el.object3D).boundingBox=(new THREE.Box3).setFromObject(i))},shoot:function(t,e){var i,n=0,a=0,s=this.pool[t];if(void 0!==s){for(i=0;i<s.length;i++){if(!1===s[i].visible)return this.shootBall(s[i],e);s[i].time>a&&(n=i,a=s[i].time)}return this.shootBall(s[n],e)}},shootBall:function(t,e){return t.visible=!0,t.time=0,e.getWorldPosition(t.position),e.getWorldDirection(t.direction),t.direction.multiplyScalar(-t.speed),this.container.add(t),t},tick:(t=new THREE.Box3,e=new THREE.Vector3,i=new THREE.Box3,function(n,a){var s,r,o,l,d;for(r=0;r<this.container.children.length;r++)if((s=this.container.children[r]).visible)if(s.time+=a,s.time>=s.lifeTime)this.el.emit("miss"),this.destroyBall(s);else for(e.copy(s.direction).multiplyScalar(a/850),s.position.add(e),t.setFromObject(s),d=0;d<this.targets.length;d++){let e=this.targets[d];if(e.getAttribute("target").active&&(o=!1,(l=e.object3D).boundingBox?o=l.boundingBox.intersectsBox(t):(i.setFromObject(l),o=i.intersectsBox(t)),o)){this.destroyBall(s),e.components.target.onBallHit(s),e.emit("hit",null);break}}}),destroyBall:function(t){t.visible=!1}})},179:()=>{AFRAME.registerComponent("click-to-shoot",{init:function(){document.body.addEventListener("mousedown",this.shoot.bind(this))},shoot:function(){this.el.sceneEl.systems.state.state.isPlaying&&this.el.emit("shoot")}})},6:()=>{},389:()=>{AFRAME.registerComponent("enemy",{schema:{activeBall:{type:"string",default:"normal"},ballTypes:{type:"array",default:["normal"]},cycle:{default:!1},isPlaying:{default:!1},shootingDelay:{default:1e3},lastShootTime:{default:0}},init:function(){this.el.addEventListener("enemyShoot",this.onShoot.bind(this)),this.ballSystem=this.el.sceneEl.systems.ball},onShoot:function(){this.ballSystem.shoot(this.data.activeBall,this.el.object3D)},tick:function(t,e){var i=this.data,n=this.el;this.isPlaying=n.sceneEl.systems.state.state.isPlaying,t-i.lastShootTime>=i.shootingDelay&&this.isPlaying&&(i.lastShootTime=t,n.emit("enemyShoot"))},play:function(){}})},28:()=>{AFRAME.registerComponent("leaderboard",{schema:{apiKey:{type:"string",default:"AIzaSyAHTk_2RY9VNYa5BTz5Kwnb_s8SRsREgW8"},authDomain:{type:"string",default:"webxr-iotatfan.firebaseapp.com"},databaseURL:{type:"string",default:"webxr-iotatfan.firebaseio.com"},projectId:{type:"string",default:"webxr-iotatfan"},storageBucket:{type:"string",default:"webxr-iotatfan.appspot.com"}},init:function(){this.scores=[],this.eventDetail={scores:this.scores},this.addEventDetail={scoreData:void 0,index:void 0},this.el,firebase.initializeApp({apiKey:this.data.apiKey,authDomain:this.data.authDomain,databaseURL:this.data.databaseURL,projectId:this.data.projectId,storageBucket:this.data.storageBucket}),this.firestore=firebase.firestore(),this.firestore.settings({}),this.db=this.firestore.collection("scores"),this.username=localStorage.getItem("leaderboardusername"),this.el.addEventListener("leaderboardusername",(t=>{this.username=t.detail.value,console.log(this.username),localStorage.setItem("username",this.username)})),this.el.addEventListener("leaderboardsubmit",this.addScore.bind(this)),this.el.addEventListener("showleaderboard",this.fetchScore.bind(this))},update:function(){},addScore:function(){const t=this.el.sceneEl.systems.state.state,e={score:t.score.score,streak:t.score.highestStreak,username:this.username,time:new Date};console.log(e),this.db.add(e),this.addEventDetail.scoreData=e,this.el.emit("backtomenu")},fetchScore:function(){this.el.sceneEl.systems.state,this.db.orderBy("score","desc").limit(10).get().then((t=>{this.scores.length=0,t.empty||t.forEach((t=>this.scores.push(t.data()))),this.el.sceneEl.emit("leaderboard",this.eventDetail,!1)})).catch((t=>{console.error("[firestore",t)}))}})},597:()=>{},916:()=>{var t=[-3,-2,-1,0,1,2,3],e=[2];AFRAME.registerComponent("random-target",{schema:{moveDelay:{default:500},lastMoveTime:{defaul:0},isPlaying:{default:!1}},init:function(){},update:function(){},remove:function(){},tick:function(i,n){let a=this.el.object3D,s=this.data;this.isPlaying=this.el.sceneEl.systems.state.state.isPlaying,i-s.lastMoveTime>=s.moveDelay&&this.isPlaying&&(s.lastMoveTime=i,a.position.x=t[Math.floor(Math.random()*t.length)],a.position.y=e[Math.floor(Math.random()*e.length)])}})},968:()=>{AFRAME.registerComponent("score",{schema:{},init:function(){},update:function(){},remove:function(){},tick:function(t,e){}})},134:()=>{AFRAME.registerComponent("shooter",{schema:{activeBall:{type:"string",default:"normal"},ballTypes:{type:"array",default:["normal"]},cycle:{default:!1},isPlaying:{default:!1},shootingDelay:{default:1e3},lastShootTime:{default:0}},init:function(){this.el.addEventListener("shoot",this.onShoot.bind(this)),this.ballSystem=this.el.sceneEl.systems.ball},onShoot:function(){this.ballSystem.shoot(this.data.activeBall,this.el.object3D)},tick:function(t,e){this.data;var i=this.el;this.isPlaying=i.sceneEl.systems.state.state.isPlaying},play:function(){}})},74:()=>{var t={superkeyboard:{wrapCount:20,inputOffsetY:.008,inputOffsetX:.08,img:"keyboard.png",hoverImg:"keyboard-hover.png",layout:[{key:"1",x:.013,y:.03,w:.093,h:.176},{key:"2",x:.106,y:.03,w:.088,h:.176},{key:"3",x:.194,y:.03,w:.077,h:.176},{key:"4",x:.271,y:.03,w:.085,h:.176},{key:"5",x:.356,y:.03,w:.081,h:.176},{key:"6",x:.437,y:.03,w:.081,h:.176},{key:"8",x:.603,y:.03,w:.082,h:.176},{key:"7",x:.519,y:.03,w:.084,h:.176},{key:"9",x:.685,y:.03,w:.076,h:.176},{key:"0",x:.76,y:.03,w:.088,h:.176},{key:"Delete",x:.867,y:.03,w:.124,h:.176},{key:"q",x:.013,y:.213,w:.098,h:.186},{key:"w",x:.111,y:.213,w:.107,h:.186},{key:"e",x:.218,y:.213,w:.096,h:.186},{key:"r",x:.313,y:.213,w:.095,h:.186},{key:"t",x:.408,y:.213,w:.094,h:.186},{key:"y",x:.503,y:.213,w:.099,h:.186},{key:"u",x:.602,y:.213,w:.097,h:.186},{key:"i",x:.701,y:.213,w:.085,h:.186},{key:"o",x:.786,y:.213,w:.099,h:.186},{key:"p",x:.885,y:.213,w:.097,h:.186},{key:"a",x:.063,y:.408,w:.1,h:.182},{key:"s",x:.163,y:.408,w:.097,h:.182},{key:"d",x:.26,y:.408,w:.098,h:.182},{key:"f",x:.358,y:.408,w:.094,h:.182},{key:"g",x:.452,y:.408,w:.1,h:.182},{key:"h",x:.552,y:.408,w:.105,h:.182},{key:"j",x:.657,y:.408,w:.085,h:.182},{key:"k",x:.743,y:.408,w:.105,h:.182},{key:"l",x:.848,y:.408,w:.1,h:.182},{key:"z",x:.107,y:.596,w:.106,h:.197},{key:"x",x:.213,y:.596,w:.1,h:.197},{key:"c",x:.313,y:.596,w:.093,h:.197},{key:"v",x:.406,y:.596,w:.096,h:.197},{key:"b",x:.502,y:.596,w:.093,h:.197},{key:"n",x:.595,y:.596,w:.099,h:.197},{key:"m",x:.694,y:.596,w:.106,h:.197},{key:" ",x:.372,y:.798,w:.249,h:.169},{key:"Insert",x:.017,y:-.001,w:.038,h:.018}]},basic:{wrapCount:30,inputOffsetY:.008,inputOffsetX:.08,img:"sk-basic.png",layout:[{key:"1",x:.044,y:.226,w:.079,h:.152},{key:"2",x:.124,y:.226,w:.079,h:.152},{key:"3",x:.203,y:.226,w:.079,h:.152},{key:"4",x:.282,y:.226,w:.08,h:.152},{key:"5",x:.363,y:.226,w:.079,h:.152},{key:"6",x:.442,y:.226,w:.079,h:.152},{key:"7",x:.521,y:.226,w:.079,h:.152},{key:"8",x:.601,y:.226,w:.08,h:.152},{key:"9",x:.681,y:.226,w:.079,h:.152},{key:"0",x:.761,y:.226,w:.079,h:.152},{key:"Delete",x:.846,y:.227,w:.108,h:.146},{key:"Enter",x:.847,y:.526,w:.108,h:.244},{key:"q",x:.044,y:.377,w:.079,h:.152},{key:"w",x:.124,y:.377,w:.079,h:.152},{key:"e",x:.203,y:.377,w:.079,h:.152},{key:"r",x:.282,y:.377,w:.08,h:.152},{key:"t",x:.363,y:.377,w:.079,h:.152},{key:"y",x:.442,y:.377,w:.079,h:.152},{key:"u",x:.521,y:.377,w:.079,h:.152},{key:"i",x:.601,y:.377,w:.08,h:.152},{key:"o",x:.681,y:.377,w:.079,h:.152},{key:"p",x:.761,y:.377,w:.079,h:.152},{key:"l",x:.729,y:.53,w:.08,h:.154},{key:"a",x:.092,y:.53,w:.08,h:.154},{key:"s",x:.171,y:.53,w:.08,h:.154},{key:"d",x:.251,y:.53,w:.08,h:.154},{key:"f",x:.331,y:.53,w:.079,h:.154},{key:"g",x:.41,y:.53,w:.08,h:.154},{key:"h",x:.49,y:.53,w:.079,h:.154},{key:"j",x:.57,y:.53,w:.079,h:.154},{key:"k",x:.649,y:.53,w:.08,h:.154},{key:"z",x:.172,y:.684,w:.079,h:.154},{key:"x",x:.251,y:.684,w:.08,h:.154},{key:"c",x:.331,y:.684,w:.079,h:.154},{key:"v",x:.41,y:.684,w:.08,h:.154},{key:"b",x:.49,y:.684,w:.08,h:.154},{key:"n",x:.57,y:.684,w:.079,h:.154},{key:"m",x:.649,y:.684,w:.08,h:.154},{key:" ",x:.27,y:.838,w:.415,h:.126},{key:"Shift",x:.042,y:.827,w:.068,h:.142},{key:"Escape",x:.876,y:.823,w:.078,h:.134},{key:"Insert",x:.058,y:0,w:.881,h:.149}]}};if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var e={roboto:17,aileronsemibold:20,dejavu:20.5,exo2bold:20,exo2semibold:20.3,kelsonsans:22.8,monoid:19.5,mozillavr:9.5,sourcecodepro:20.3};function i(t,e){for(var i=0;i<t.length;i++)if(t[i].id===e)return t[i];return null}AFRAME.registerComponent("super-keyboard",{schema:{align:{default:"left",oneOf:["left","center","right"]},blinkingSpeed:{type:"int",default:400},filters:{type:"array"},font:{default:"aileronsemibold"},hand:{type:"selector"},imagePath:{default:"."},injectToRaycasterObjects:{default:!0},inputColor:{type:"color",default:"#6699ff"},interval:{type:"int",default:50},keyBgColor:{type:"color",default:"#000"},keyColor:{type:"color",default:"#6699ff"},keyHoverColor:{type:"color",default:"#1A407F"},keyPressColor:{type:"color",default:"#5290F6"},label:{type:"string",default:""},labelColor:{type:"color",default:"#aaa"},maxLength:{type:"int",default:0},model:{default:"basic"},show:{default:!0},value:{type:"string",default:""},width:{default:.8}},init:function(){this.el.addEventListener("mousedown",this.click.bind(this)),this.changeEventDetail={},this.keys=null,this.focused=!1,this.keyHover=null,this.prevCheckTime=null,this.shift=!1,this.rawValue=this.data.value,this.defaultValue=this.data.value,this.userFilterFunc=null,this.intervalId=0,this.kbImg=document.createElement("a-entity"),this.kbImg.classList.add("keyboardRaycastable"),this.kbImg.classList.add("superKeyboardImage"),this.kbImg.addEventListener("raycaster-intersected",this.hover.bind(this)),this.kbImg.addEventListener("raycaster-intersected-cleared",this.blur.bind(this)),this.el.appendChild(this.kbImg),this.label=document.createElement("a-entity"),this.label.setAttribute("text",{align:"center",font:this.data.font,baseline:"bottom",lineHeight:40,shader:"msdf",negate:!0,value:this.data.label,color:this.data.labelColor,width:this.data.width,wrapCount:30}),this.el.appendChild(this.label),this.textInput=document.createElement("a-entity"),this.textInput.setAttribute("mixin","superKeyboardTextInput"),this.textInput.setAttribute("text",{align:this.data.align,font:this.data.font,lineHeight:35,value:this.data.value,color:this.data.inputColor,width:this.data.width,wrapCount:20}),this.el.appendChild(this.textInput),this.cursor=document.createElement("a-entity"),this.cursor.object3D.position.set(0,0,.001),this.cursor.setAttribute("material",{shader:"flat",color:this.data.inputColor}),this.textInput.appendChild(this.cursor),this.cursorUpdated=!1,this.keyBgColor=new THREE.Color,this.keyHoverColor=new THREE.Color,this.keyPressColor=new THREE.Color;var t=this;document.addEventListener("keydown",(function(e){if("t"===e.key){for(var i="",n="abcdefghijklmopqrstuvQWIEUTGASDLIGKBXACQWETL102394676457",a=Math.floor(20*Math.random()),s=0;s<a;s++)i+=n[Math.floor(Math.random()*n.length)];t.el.setAttribute("super-keyboard",{value:i})}})),document.addEventListener("show",this.open.bind(this)),this.hand=null,this.handListenersSet=!1,this.raycaster=null},update:function(e){var i=t[this.data.model],n=this.data.width,a=this.data.width/2;if(void 0!==i){e&&this.defaultValue===e.defaultValue?this.updateTextInput(this.filter(this.rawValue)):(this.rawValue=this.data.value,this.defaultValue=this.data.value,this.updateTextInput(this.filter(this.data.value))),this.data.width===e.width&&this.data.height===e.height&&this.data.keyColor===e.keyColor||(this.kbImg.setAttribute("geometry",{primitive:"plane",width:n,height:a}),this.kbImg.setAttribute("material",{shader:"flat",src:this.data.imagePath+"/"+i.img,color:this.data.keyColor,transparent:!0})),this.data.label===e.label&&this.data.labelColor===e.labelColor&&this.data.width===e.width||(this.label.setAttribute("text",{value:this.data.label,color:this.data.labelColor,width:this.data.width}),this.label.object3D.position.set(0,.4*n,-.02)),this.data.width===e.width&&this.data.keyBgColor===e.keyBgColor||this.initKeyColorPlane();var s="center"!==this.data.align?i.inputOffsetX*n:0;"right"===this.data.align&&(s*=-1),this.data.font===e.font&&this.data.inputColor===e.inputColor&&this.data.width===e.width&&this.data.align===e.align||this.textInput.setAttribute("text",{font:this.data.font,color:this.data.inputColor,width:n,wrapCount:i.wrapCount,align:this.data.align});for(var r=0;r<i.layout.length;r++){var o=i.layout[r];"Insert"===o.key&&(this.inputRect=o)}this.textInput.object3D.position.set(s,n/4-(this.inputRect.y+this.inputRect.h/2)*n/2+i.inputOffsetY*n,.002),this.data.width!==e.width&&this.cursor.setAttribute("geometry",{primitive:"plane",width:.03*n,height:.01*n}),this.updateCursorPosition(),this.setupHand(),this.keyBgColor.set(this.data.keyBgColor),this.keyHoverColor.set(this.data.keyHoverColor),this.keyPressColor.set(this.data.keyPressColor),this.data.show?this.open():this.close()}else console.error('super-keyboard ERROR: model "'+this.data.model+'" undefined.')},tick:function(e){var i;if(!(this.prevCheckTime&&e-this.prevCheckTime<this.data.interval))if(this.prevCheckTime){if(this.raycaster&&this.focused&&(i=this.raycaster.getIntersection(this.kbImg)))for(var n=i.uv,a=t[this.data.model].layout,s=0;s<a.length;s++){var r=a[s];if(n.x>r.x&&n.x<r.x+r.w&&1-n.y>r.y&&1-n.y<r.y+r.h){this.keyHover!==r&&(this.keyHover=r,this.updateKeyColorPlane(this.keyHover.key,this.keyHoverColor));break}}}else this.prevCheckTime=e},play:function(){this.cursorUpdated&&this.startBlinking()},pause:function(){this.stopBlinking()},initKeyColorPlane:function(){var e=t[this.data.model],i=this.keyColorPlane=document.createElement("a-entity");i.classList.add("superKeyboardKeyColorPlane"),i.object3D.position.z=.001,i.object3D.visible=!1,i.setAttribute("geometry",{primitive:"plane",buffer:!1}),i.setAttribute("material",{shader:"flat",color:this.data.keyBgColor,transparent:!0}),e.hoverImg&&i.setAttribute("material",{src:this.data.imagePath+"/"+e.hoverImg}),i.addEventListener("componentinitialized",(function(t){"material"===t.detail.name&&(e.hoverImg||(this.getObject3D("mesh").material.blending=THREE.AdditiveBlending))})),this.el.appendChild(i)},updateKeyColorPlane:function(e,i){var n=t[this.data.model],a=this.keyColorPlane;if(e){for(var s=0;s<n.layout.length;s++){var r=n.layout[s];if(r.key===e){var o=this.data.width,l=this.data.width/2,d=o/2,h=l/2,c=r.w*o,u=r.h*l;a.object3D.scale.x=c,a.object3D.scale.y=u,a.object3D.position.x=r.x*o-d+c/2,a.object3D.position.y=(1-r.y)*l-h-u/2,a.getObject3D("mesh").material.color.copy(i);var y=a.getObject3D("mesh").geometry,m=y.faceVertexUvs[0],p=1-r.y;m[0][0].set(r.x,p),m[0][1].set(r.x,p-r.h),m[0][2].set(r.x+r.w,p),m[1][0].set(r.x,p-r.h),m[1][1].set(r.x+r.w,p-r.h),m[1][2].set(r.x+r.w,p),y.uvsNeedUpdate=!0;break}}a.object3D.visible=!0}else a.object3D.visible=!1},setupHand:function(){if(this.hand&&this.hand.ownRaycaster&&this.hand.removeAttribute("raycaster"),this.data.hand?this.hand=this.data.hand:this.hand=document.querySelector(["[cursor]","[vive-controls]","[tracked-controls]","[oculus-touch-controls]","[windows-motion-controls]","[hand-controls]","[daydream-controls] [cursor] > [raycaster]"].join(",")),this.hand){if(!this.hand.hasLoaded)return void this.hand.addEventListener("loaded",this.setupHand.bind(this));var t=this.hand.components.raycaster,e={};if(t){if(this.hand.ownRaycaster=!1,this.data.injectToRaycasterObjects){var i=t.data.objects.split(",");-1===i.indexOf(".keyboardRaycastable")&&i.push(".keyboardRaycastable"),e.objects=i.join(",").replace(/^,/,""),this.hand.setAttribute("raycaster",e)}}else this.hand.ownRaycaster=!0,e.showLine=this.data.show,e.enabled=this.data.show,this.data.injectToRaycasterObjects&&(e.objects=".keyboardRaycastable"),this.hand.setAttribute("raycaster",e);this.raycaster=this.hand.components.raycaster}else console.error('super-keyboard: no controller found. Add <a-entity> with controller or specify with super-keyboard="hand: #selectorToController".')},filter:function(t){if(""===t)return"";for(var e=0;e<this.data.filters.length;e++)switch(this.data.filters[e]){case"custom":this.userFilterFunc&&(t=this.userFilterFunc(t));break;case"allupper":t=t.toUpperCase();break;case"alllower":t=t.toLowerCase();break;case"title":t=t.split(" ").map((function(t){return t[0].toUpperCase()+t.substr(1)})).join(" ");break;case"numbers":t=t.split("").filter((function(t){return!isNaN(parseInt(t))||"."===t})).join("");break;case"first":t=t[0].toUpperCase()+t.substr(1);break;case"trim":t=t.trim()}return this.data.maxLength>0?t.substr(0,this.data.maxLength):t},click:function(t){if(this.keyHover){switch(this.keyHover.key){case"Enter":this.accept();break;case"Insert":return;case"Delete":this.rawValue=this.rawValue.substr(0,this.rawValue.length-1);var e=this.filter(this.rawValue);this.el.setAttribute("super-keyboard","value",e),this.updateTextInput(e),this.changeEventDetail.value=e,this.el.emit("superkeyboardchange",this.changeEventDetail);break;case"Shift":this.shift=!this.shift,this.keyHover.el.setAttribute("material","color",this.shift?this.data.keyHoverColor:this.data.keyBgColor);break;case"Escape":this.dismiss();break;default:if(this.data.maxLength>0&&this.rawValue.length>this.data.maxLength)break;this.rawValue+=this.shift?this.keyHover.key.toUpperCase():this.keyHover.key,e=this.filter(this.rawValue),this.el.setAttribute("super-keyboard","value",e),this.updateTextInput(e),this.changeEventDetail.value=e,this.el.emit("superkeyboardchange",this.changeEventDetail)}this.updateKeyColorPlane(this.keyHover.key,this.keyPressColor);var i=this;setTimeout((function(){i.updateKeyColorPlane(i.keyHover.key,i.keyHoverColor)}),100),this.updateCursorPosition()}},open:function(){this.el.object3D.visible=!0,this.hand&&this.hand.ownRaycaster&&this.hand.setAttribute("raycaster",{showLine:!0,enabled:!0})},close:function(){this.el.object3D.visible=!1,this.hand&&this.hand.ownRaycaster&&this.hand.setAttribute("raycaster",{showLine:!1,enabled:!1})},accept:function(){this.el.object3D.visible=!1,this.hand&&this.hand.ownRaycaster&&this.hand.setAttribute("raycaster",{showLine:!1,enabled:!1}),this.el.emit("superkeyboardinput",{value:this.data.value}),this.data.show=!1},dismiss:function(){this.data.value=this.defaultValue,this.updateTextInput(),this.el.object3D.visible=!1,this.hand&&this.hand.ownRaycaster&&this.hand.setAttribute("raycaster",{showLine:!1,enabled:!1}),this.el.emit("superkeyboarddismiss"),this.data.show=!1},blur:function(){this.focused=!1,this.keyHover&&"Shift"!==this.keyHover.key&&(this.keyColorPlane.object3D.visible=!1),this.keyHover=null},hover:function(t){this.focused=!0},startBlinking:function(){this.stopBlinking(),this.intervalId=window.setInterval(this.blink.bind(this),this.data.blinkingSpeed)},stopBlinking:function(){window.clearInterval(this.intervalId),this.intervalId=0},blink:function(){this.cursor.object3D.visible=!this.cursor.object3D.visible},setCustomFilter:function(t){this.userFilterFunc=t},addCustomModel:function(e,i){e&&(t[e]=i)},updateCursorPosition:function(){var n=this.textInput.components.text.currentFont;if(!n){var a=this;return this.cursor.object3D.visible=!1,void window.setTimeout((function(){a.updateCursorPosition(),a.startBlinking()}),700)}var s=this.data.width,r=t[this.data.model],o=-this.inputRect.h/2*s/2.4+r.inputOffsetY*s,l=this.data.width/this.textInput.components.text.data.wrapCount,d=0,h=e[this.textInput.components.text.data.font];void 0===h&&(h=20);for(var c=0;c<Math.min(11,this.data.value.length);c++){var u=i(n.chars,this.data.value.charCodeAt(c));d+=u.width+u.xadvance*(32===u.id?2:1)}"center"===this.data.align?d=d*l*h*.0011/2+.02*s:"left"===this.data.align?(d=d*l*h*.0011+.02*s,d-=s/2):"right"===this.data.align&&(d=-d*l*h*.0011-.02*s,d+=s/2),this.cursor.object3D.position.set(.92*d,o+.05,.001),this.cursorUpdated=!0},updateTextInput:function(t){var e;this.textInput.setAttribute("text","value",(e=t||this.data.value)?e.length>=12?"..."+e.substring(e.length-12,e.length):e:"")}})},921:()=>{AFRAME.registerComponent("target",{schema:{active:{default:!0},healthPoints:{default:1,type:"float"},static:{default:!0}},init:function(){let t=this.el;t.addEventListener("object3dset",(e=>{t.sceneEl.systems.ball.registerTarget(this,this.data.static)}))},update:function(t){},onBallHit:function(t){this.data.active&&(this.lastBallHit=t)}})},383:()=>{AFRAME.registerState({initialState:{isGameOver:!1,isPlaying:!1,leaderboard:{names:"",scores:"",length:0},leaderboardActive:!1,life:5,menuActive:!0,score:{catch:0,highestStreak:0,score:0,streak:0},shooter:{direction:"0 1 0",speed:2}},handlers:{backtomenu:t=>{t.menuActive=!0,t.isGameOver=!1,t.isPlaying=!1},startgame:t=>{t.isGameOver=!1,t.isPlaying=!0,t.menuActive=!1,t.leaderboardActive=!1,t.life=5,function(t){t.score.catch=0,t.score.highestStreak=0,t.score.score=0,t.score.streak=0}(t)},showleaderboard:t=>{t.menuActive=!0,t.leaderboardActive=!0},leaderboard:(t,e)=>{console.log(e.scores),t.leaderboard.length=0,t.leaderboard.names="",t.leaderboard.scores="";for(let i=0;i<e.scores.length;i++){let n=e.scores[i];console.log(n),t.leaderboard.names+=`#${i+1} ${n.username}\n`,t.leaderboard.scores+=`${n.score}\n`}},leaderboardusername(){console.log("Username")},miss:t=>{t.score.streak>t.score.highestStreak&&(t.score.highestStreak=t.score.streak),t.score.streak=0,t.life-=1,function(t){t.life<=0&&(t.isGameOver=!0,t.isPlaying=!1)}(t)},hit:t=>{t.score.score+=Math.floor(300+210*t.score.streak/25),t.score.streak+=1,t.score.catch+=1},leaderboardsubmit:t=>{console.log("Submitting Score")}},computeState:t=>{t.isPlaying=!t.isGameOver&&!t.menuActive&&!t.leaderboardActive}})},775:(t,e,i)=>{var n={"./ball.js":22,"./click-to-shoot.js":179,"./custom-controls.js":6,"./enemy.js":389,"./leaderboard.js":28,"./play-sound.js":597,"./random-target.js":916,"./score.js":968,"./shooter.js":134,"./super-keyboard.js":74,"./target.js":921};function a(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=s,t.exports=a,a.id=775}},i={};function n(t){if(i[t])return i[t].exports;var a=i[t]={exports:{}};return e[t].call(a.exports,a,a.exports,n),a.exports}n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(972),n(238),n(571),n(479),n(596),n(187),n(383),(t=n(775)).keys().forEach(t)})();