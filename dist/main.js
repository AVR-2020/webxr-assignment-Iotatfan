/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t={972:e=>{var t;window,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./index.js")}({"./index.js":function(e,t,n){"use strict";var i=AFRAME.utils.styleParser;if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("event-set",{schema:{default:"",parse:function(e){return i.parse(e)}},multiple:!0,init:function(){this.eventHandler=null,this.eventName=null},update:function(e){this.removeEventListener(),this.updateEventListener(),this.addEventListener()},remove:function(){this.removeEventListener()},pause:function(){this.removeEventListener()},play:function(){this.addEventListener()},updateEventListener:function(){var e,t,n,i=this,a=this.data,s=this.el;e=a._event||this.id,t=a._target,n=t?s.sceneEl.querySelector(t):s,this.eventName=e;var r=function(){var e;for(e in a)"_event"!==e&&"_target"!==e&&AFRAME.utils.entity.setComponentProperty.call(i,n,e,a[e])};isNaN(a._delay)?this.eventHandler=r:this.eventHandler=function(){setTimeout(r,parseFloat(a._delay))}},addEventListener:function(){this.el.addEventListener(this.eventName,this.eventHandler)},removeEventListener:function(){this.el.removeEventListener(this.eventName,this.eventHandler)}})}})},e.exports=t()},238:()=>{var e,t=AFRAME.utils.debug,n=AFRAME.utils.coordinates,i=t("components:look-at:warn"),a=n.isCoordinates||n.isCoordinate;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"0 0 0",parse:function(e){return a(e)||"object"==typeof e?n.parse(e):e},stringify:function(e){return"object"==typeof e?n.stringify(e):e}},init:function(){this.target3D=null,this.vector=new THREE.Vector3,this.cameraListener=AFRAME.utils.bind(this.cameraListener,this),this.el.addEventListener("componentinitialized",this.cameraListener),this.el.addEventListener("componentremoved",this.cameraListener)},update:function(){var e,t=this,n=t.data;return!n||"object"==typeof n&&!Object.keys(n).length?t.remove():"object"==typeof n?this.lookAt(new THREE.Vector3(n.x,n.y,n.z)):(e=t.el.sceneEl.querySelector(n))?e.hasLoaded?t.beginTracking(e):e.addEventListener("loaded",(function(){t.beginTracking(e)})):void i('"'+n+'" does not point to a valid entity to look-at')},tick:(e=new THREE.Vector3,function(t){var n=this.target3D;n&&(n.getWorldPosition(e),this.lookAt(e))}),remove:function(){this.el.removeEventListener("componentinitialized",this.cameraListener),this.el.removeEventListener("componentremoved",this.cameraListener)},beginTracking:function(e){this.target3D=e.object3D},cameraListener:function(e){e.detail&&"camera"===e.detail.name&&this.update()},lookAt:function(e){var t=this.vector,n=this.el.object3D;this.el.getObject3D("camera")?t.subVectors(n.position,e).add(n.position):t.copy(e),n.lookAt(t)}})},571:()=>{AFRAME.registerComponent("proxy-event",{schema:{captureBubbles:{default:!1},enabled:{default:!0},event:{type:"string"},from:{type:"string"},to:{type:"string"},as:{type:"string"},bubbles:{default:!1}},multiple:!0,init:function(){var e,t,n,i=this.data,a=this.el,s=this;if(i.from?e="PARENT"===i.from?[a.parentNode]:document.querySelectorAll(i.from):n="CHILDREN"===i.to?a.querySelectorAll("*"):"SELF"===i.to?[a]:document.querySelectorAll(i.to),i.from)for(t=0;t<e.length;t++)this.addEventListenerFrom(e[t]);else a.addEventListener(i.event,(function(e){var i=s.data;if(i.enabled&&(i.captureBubbles||e.target===a))for(t=0;t<n.length;t++)n[t].emit(i.as||i.event,e.detail?e.detail:null,i.bubbles)}))},addEventListenerFrom:function(e){var t=this.data,n=this;e.addEventListener(t.event,(function(t){var i=n.data;i.enabled&&(i.captureBubbles||t.target===e)&&n.el.emit(i.as||i.event,t.detail?t.detail:null,!1)}))}})},479:()=>{if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("slice9",{schema:{width:{default:1,min:0},height:{default:1,min:0},left:{default:0,min:0},right:{default:0,min:0},bottom:{default:0,min:0},top:{default:0,min:0},side:{default:"front",oneOf:["front","back","double"]},padding:{default:.1,min:.01},color:{type:"color",default:"#fff"},opacity:{default:1,min:0,max:1},transparent:{default:!0},debug:{default:!1},src:{type:"map"}},multiple:!1,init:function(){var e=this.data,t=this.material=new THREE.MeshBasicMaterial({color:e.color,opacity:e.opacity,transparent:e.transparent,wireframe:e.debug}),n=this.geometry=new THREE.PlaneBufferGeometry(e.width,e.height,3,3);new THREE.TextureLoader,this.plane=new THREE.Mesh(n,t),this.el.setObject3D("mesh",this.plane),this.textureSrc=null},updateMap:function(){var e=this.data.src;if(e){if(e===this.textureSrc)return;return this.textureSrc=e,void this.el.sceneEl.systems.material.loadTexture(e,{src:e},t.bind(this))}function t(e){this.material.map=e,this.material.needsUpdate=!0,this.regenerateMesh()}this.material.map&&t(null)},regenerateMesh:function(){var e=this.data,t=this.geometry.attributes.position.array,n=this.geometry.attributes.uv.array,i=this.material.map.image;if(i){var a={left:e.left/i.width,right:e.right/i.width,top:e.top/i.height,bottom:e.bottom/i.height};h(1,a.left,1),h(2,a.right,1),h(4,0,a.bottom),h(5,a.left,a.bottom),h(6,a.right,a.bottom),h(7,1,a.bottom),h(8,0,a.top),h(9,a.left,a.top),h(10,a.right,a.top),h(11,1,a.top),h(13,a.left,0),h(14,a.right,0);var s=e.width/2,r=e.height/2,o=-s+e.padding,l=s-e.padding,d=r-e.padding,c=-r+e.padding;u(0,-s,r),u(1,o,r),u(2,l,r),u(3,s,r),u(4,-s,d),u(5,o,d),u(6,l,d),u(7,s,d),u(8,-s,c),u(9,o,c),u(10,l,c),u(11,s,c),u(13,o,-r),u(14,l,-r),u(12,-s,-r),u(15,s,-r),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0}function u(e,n,i){t[3*e]=n,t[3*e+1]=i}function h(e,t,i){n[2*e]=t,n[2*e+1]=i}},update:function(e){var t=this.data;this.material.color.setStyle(t.color),this.material.opacity=t.opacity,this.material.transparent=t.transparent,this.material.wireframe=t.debug,this.material.side=function(e){switch(e){case"back":return THREE.BackSide;case"double":return THREE.DoubleSide;default:return THREE.FrontSide}}(t.side);var n=AFRAME.utils.diff(t,e);"src"in n?this.updateMap():("width"in n||"height"in n||"padding"in n||"left"in n||"top"in n||"bottom"in n||"right"in n)&&this.regenerateMesh()},remove:function(){},pause:function(){},play:function(){}})},596:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var i={};e.exports.select=function(e,t,n){return i[t]||(i[t]=new Function("state","item","return "+d(t)+";")),i[t](e,n)};var a=/\.([A-Za-z][\w_-]*)/g,s=/([=&|!?:+-])(\s*)([\(]?)([A-Za-z][\w_-]*)/g,r=/^([\(]?)([A-Za-z][\w_-]*)/g,o=/state\["item"\]/g,l=/state\["(true|false)"\]/g;function d(e){return(e=(e=(e=(e=e.replace(a,'["$1"]')).replace(r,'$1state["$2"]')).replace(s,'$1$2$3state["$4"]')).replace(o,"item")).replace(l,"$1")}function c(){var e=arguments;return function(){var t;for(t=0;t<e.length;t++)e[t].apply(this,arguments)}}e.exports.generateExpression=d,e.exports.clearObject=function(e){for(var t in e)delete e[t]},e.exports.composeHandlers=function(){var e,t,n,i=arguments;for(n={},t=0;t<i.length;t++)for(e in i[t])e in n?n[e].constructor===Array?n[e].push(i[t][e]):n[e]=[n[e],i[t][e]]:n[e]=i[t][e];for(e in n)n[e].constructor===Array&&(n[e]=c.apply(this,n[e]));return n},e.exports.composeFunctions=c;var u=["||","&&","!=","!==","==","===",">","<","<=",">="],h=/\s+/,m=/\(|\)|\!/g;function f(e){return-1===(e=function(e){return 0===e.indexOf("!!")?e.replace("!!",""):0===e.indexOf("!")?e.replace("!",""):e}(e.trim())).indexOf(".")?e:e.substring(0,e.indexOf("."))}e.exports.parseKeysToWatch=function(e,t,n){var i,a;for(a=y(t,h),i=0;i<a.length;i++)if(-1===u.indexOf(a[i])&&!a[i].startsWith("'")&&-1===e.indexOf(a[i])){if(n&&"item"===a[i])continue;e.push(f(a[i]).replace(m,""))}return e};var p={};function y(e,t){return p[t]||(p[t]={}),p[t][e]||(p[t][e]=e.split(t)),p[t][e]}e.exports.split=y,e.exports.copyArray=function(e,t){var n;for(e.length=0,n=0;n<t.length;n++)e[n]=t[n]}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(2);var a,s,r=n(3),o=n(0),l=n(4).wrapArray,d={initialState:{},nonBindedStateKeys:[],handlers:{},computeState:[function(){}]},c="object";AFRAME.registerState=function(e){var t=d.computeState;e.computeState&&t.push(e.computeState),AFRAME.utils.extendDeep(d,e),d.computeState=t},AFRAME.registerSystem("state",{init:function(){var e,t=this;for(e in this.arrays=[],this.dirtyArrays=[],this.diff={},this.state=AFRAME.utils.clone(d.initialState),this.subscriptions=[],this.initEventHandlers(),this.state)this.state[e]&&this.state[e].constructor===Array&&(this.arrays.push(e),this.state[e].__dirty=!0,l(this.state[e]));this.lastState=AFRAME.utils.clone(this.state),this.eventDetail={lastState:this.lastState,state:this.state},this.el.addEventListener("loaded",(function(){var e;for(e=0;e<d.computeState.length;e++)d.computeState[e](t.state,"@@INIT");for(e=0;e<t.subscriptions.length;e++)t.subscriptions[e].onStateUpdate(t.state)}))},dispatch:(s=[],function(e,t){var n,i;for(d.handlers[e](this.state,t),n=0;n<d.computeState.length;n++)d.computeState[n](this.state,e,t);for(i in this.diff)delete this.diff[i];for(r(this.lastState,this.state,this.diff,d.nonBindedStateKeys),this.dirtyArrays.length=0,n=0;n<this.arrays.length;n++)this.state[this.arrays[n]].__dirty&&this.dirtyArrays.push(this.arrays[n]);for(s.length=0,n=0;n<this.subscriptions.length;n++){if("bind-for"===this.subscriptions[n].name){if(!this.state[this.subscriptions[n].keysToWatch[0]].__dirty)continue}else if(!this.shouldUpdate(this.subscriptions[n].keysToWatch,this.diff,this.dirtyArrays))continue;-1===s.indexOf(this.subscriptions[n])&&s.push(this.subscriptions[n])}for(n=0;n<s.length;n++)s[n].onStateUpdate();for(i in this.state)this.state[i]&&this.state[i].constructor===Array&&(this.state[i].__dirty=!1);this.copyState(this.lastState,this.state),this.eventDetail.action=e,this.eventDetail.payload=t,this.el.emit("stateupdate",this.eventDetail)}),copyState:function(e,t,n){var i;for(i in t)if(n||-1===d.nonBindedStateKeys.indexOf(i))if(t[i]&&t[i].constructor===Object){if(!(i in e)){e[i]=AFRAME.utils.clone(t[i]);continue}this.copyState(e[i],t[i],!0)}else e[i]=t[i]},subscribe:function(e){this.subscriptions.push(e)},unsubscribe:function(e){this.subscriptions.splice(this.subscriptions.indexOf(e),1)},shouldUpdate:function(e,t,n){for(var i=0;i<e.length;i++)if(e[i]in t||-1!==n.indexOf(e[i]))return!0;return!1},initEventHandlers:function(){var e,t=[];for(e in n=n.bind(this),d.handlers)-1===t.indexOf(e)&&(t.push(e),n(e));function n(e){var t=this;this.el.addEventListener(e,(function(n){t.dispatch(e,n.detail)}))}},renderTemplate:(a=/{{\s*(\w*\.)?([\w.]+)\s*}}/g,function(e,t,n){var s,r;if(r=e,t)for(;s=a.exec(e);)r=r.replace(s[0],(void 0===t?"undefined":i(t))===c?o.select(t,s[2])||"":t);return n?r:document.createRange().createContextualFragment(r)}),select:o.select}),AFRAME.registerComponent("bind",{schema:{default:{},parse:function(e){var t,n,i,a;if(e.constructor===Object)return e;if(-1===e.indexOf(":"))return e;for(t={},i=o.split(e,";"),n=0;n<i.length;n++)t[(a=o.split(i[n].trim(),":"))[0]]=a[1].trim();return t}},multiple:!0,init:function(){var e;this.data,this.keysToWatch=[],this.onStateUpdate=this.onStateUpdate.bind(this),this.system=this.el.sceneEl.systems.state,this.id&&(e=o.split(this.id,"__")[0]),this.isNamespacedBind=this.id&&e in AFRAME.components&&!AFRAME.components[e].isSingleProp||e in AFRAME.systems,this.lastData={},this.updateObj={},this.system.subscribe(this),this.onStateUpdate=this.onStateUpdate.bind(this)},update:function(){var e,t=this.data;if(this.keysToWatch.length=0,"string"==typeof t)o.parseKeysToWatch(this.keysToWatch,t);else for(e in t)o.parseKeysToWatch(this.keysToWatch,t[e]);this.onStateUpdate()},onStateUpdate:function(){var e,t,n,a,s=!1,r=this.el;if(r.parentNode){if(this.isNamespacedBind&&o.clearObject(this.updateObj),n=this.system.state,i(this.data)!==c){try{a=o.select(n,this.data)}catch(e){throw new Error("[aframe-state-component] Key '"+this.data+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}if((void 0===a?"undefined":i(a))!==c&&i(this.lastData)!==c&&this.lastData===a)return;return AFRAME.utils.entity.setComponentProperty(r,this.id,a),void(this.lastData=a)}for(e in this.data){t=this.data[e].trim();try{a=o.select(n,t)}catch(e){throw console.log(e),new Error("[aframe-state-component] Key '"+t+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}if((void 0===a?"undefined":i(a))===c||i(this.lastData[e])===c||this.lastData[e]!==a){if(e in AFRAME.components&&void 0===a)return void r.removeAttribute(e);this.isNamespacedBind?this.updateObj[e]=a:AFRAME.utils.entity.setComponentProperty(r,e,a),this.lastData[e]=a}}for(s in this.updateObj);this.isNamespacedBind&&s&&r.setAttribute(this.id,this.updateObj)}},remove:function(){this.system.unsubscribe(this)}}),AFRAME.registerComponent("bind-toggle",{schema:{type:"string"},multiple:!0,init:function(){this.system=this.el.sceneEl.systems.state,this.keysToWatch=[],this.onStateUpdate=this.onStateUpdate.bind(this),this.system.subscribe(this),this.onStateUpdate()},update:function(){this.keysToWatch.length=0,o.parseKeysToWatch(this.keysToWatch,this.data)},onStateUpdate:function(){var e,t,n=this.el;e=this.system.state;try{t=o.select(e,this.data)}catch(e){throw new Error("[aframe-state-component] Key '"+this.data+"' not found in state. #"+this.el.getAttribute("id")+"["+this.attrName+"]")}t?n.setAttribute(this.id,""):n.removeAttribute(this.id)},remove:function(){this.system.unsubscribe(this)}}),e.exports={composeFunctions:o.composeFunctions,composeHandlers:o.composeHandlers,select:o.select}},function(e,t,n){"use strict";var i,a,s=n(0);AFRAME.registerComponent("bind-for",{schema:{delay:{default:0},for:{type:"string",default:"item"},in:{type:"string"},key:{type:"string"},pool:{default:0},template:{type:"string"},updateInPlace:{default:!1}},init:function(){this.system=this.el.sceneEl.systems.state,this.onStateUpdate=this.onStateUpdate.bind(this),this.keysToWatch=[],this.renderedKeys=[],this.system.subscribe(this),this.el.children[0]&&"TEMPLATE"===this.el.children[0].tagName?this.template=this.el.children[0].innerHTML.trim():this.template=document.querySelector(this.data.template).innerHTML.trim();for(var e=0;e<this.data.pool;e++)this.el.appendChild(this.generateFromTemplate(null,e))},update:function(){this.keysToWatch[0]=s.split(this.data.in,".")[0],this.onStateUpdate()},onStateUpdateNaive:(a=[],function(){var e,t=this.data,n=this.el;try{e=s.select(this.system.state,t.in)}catch(e){throw new Error("[aframe-state-component] Key '"+t.in+"' not found in state. #"+n.getAttribute("id")+"["+this.attrName+"]")}a.length=0;for(var i=0;i<e.length;i++){var r=e[i];a.push(t.key?r[t.key].toString():r.toString())}for(var o=this.getElsToRemove(a,this.renderedKeys),l=0;l<o.length;l++)o[l].parentNode.removeChild(o[l]);e.length&&this.renderItems(e,a,0)}),renderItems:function(e,t,n){var i,a=this,s=this.data,r=this.el,o=e[n],l=s.key?o[s.key].toString():o.toString();if(-1===this.renderedKeys.indexOf(l))i=this.generateFromTemplate(o,n),r.appendChild(i),this.renderedKeys.push(l);else{if(e.length&&e[0].constructor===String){var d=s.key?o[s.key].toString():o.toString();(i=r.querySelector('[data-bind-for-value="'+d+'"]')).setAttribute("data-bind-for-key",n)}else{var c=this.getBindForKey(o,n);i=r.querySelector('[data-bind-for-key="'+c+'"]')}i.emit("bindforupdate",o,!1)}e[n+1]&&(this.data.delay?setTimeout((function(){a.renderItems(e,t,n+1)}),this.data.delay):this.renderItems(e,t,n+1))},onStateUpdateInPlace:function(){var e=[];return function(){var t,n,i=this.data,a=this.el;try{t=s.select(this.system.state,i.in)}catch(e){throw console.log(e),new Error("[aframe-state-component] Key '"+i.in+"' not found in state. #"+a.getAttribute("id")+"["+this.attrName+"]")}e.length=0;for(var r=0;r<t.length;r++){var o=t[r];n=i.key?o[i.key].toString():o.toString(),e.push(n)}for(var l=this.getElsToRemove(e,this.renderedKeys),d=0;d<l.length;d++)l[d].object3D.visible=!1,l[d].setAttribute("data-bind-for-active","false"),l[d].removeAttribute("data-bind-for-key"),l[d].removeAttribute("data-bind-for-value"),l[d].emit("bindfordeactivate",null,!1),l[d].pause();t.length&&this.renderItemsInPlace(t,e,0)}}(),renderItemsInPlace:function(e,t,n){var i,a=this,s=this.data,r=this.el,o=e[n],l=this.getBindForKey(o,n),d=s.key?o[s.key].toString():o.toString();if(-1===this.renderedKeys.indexOf(d)){if(r.querySelector(':scope > [data-bind-for-active="false"]'))(i=r.querySelector('[data-bind-for-active="false"]')).setAttribute("data-bind-for-key",l),i.setAttribute("data-bind-for-value",d),i.object3D.visible=!0,i.play(),i.setAttribute("data-bind-for-active","true"),i.emit("bindforupdateinplace",o,!1);else{var c=this.generateFromTemplate(o,n);c.addEventListener("loaded",(function(){c.emit("bindforupdateinplace",o,!1)})),r.appendChild(c)}this.renderedKeys.push(d)}else-1!==t.indexOf(d)&&(e.length&&e[0].constructor===String?(i=r.querySelector('[data-bind-for-value="'+d+'"]')).setAttribute("data-bind-for-key",n):i=r.querySelector('[data-bind-for-key="'+l+'"]'),i.emit("bindforupdateinplace",o,!1));e[n+1]&&(this.data.delay?setTimeout((function(){a.renderItemsInPlace(e,t,n+1)}),this.data.delay):this.renderItemsInPlace(e,t,n+1))},generateFromTemplate:function(e,t){var n=this.data;this.el.appendChild(this.system.renderTemplate(this.template,e));var i=this.el.children[this.el.children.length-1];if(!e)return i.setAttribute("data-bind-for-key",""),i.setAttribute("data-bind-for-active","false"),i;var a=this.getBindForKey(e,t);return i.setAttribute("data-bind-for-key",a),n.key||i.setAttribute("data-bind-for-value",e),i.setAttribute("data-bind-for-active","true"),i},getElsToRemove:(i=[],function(e,t){var n=this.data,a=this.el;i.length=0;for(var s=0;s<a.children.length;s++)if("TEMPLATE"!==a.children[s].tagName){var r=n.key?a.children[s].getAttribute("data-bind-for-key"):a.children[s].getAttribute("data-bind-for-value");-1===e.indexOf(r)&&-1!==t.indexOf(r)&&(i.push(a.children[s]),t.splice(t.indexOf(r),1))}return i}),getBindForKey:function(e,t){return this.data.key?e[this.data.key].toString():t.toString()},onStateUpdate:function(){this.data.updateInPlace?this.onStateUpdateInPlace():this.onStateUpdateNaive()}}),AFRAME.registerComponent("bind-item",{schema:{type:"string"},multiple:!0,init:function(){this.itemData=null,this.keysToWatch=[],this.prevValues={};var e=this.rootEl=this.el.closest("[data-bind-for-key]");if(!e)throw new Error("bind-item component must be attached to entity under a bind-for item.");e.addEventListener("bindforupdateinplace",this.updateInPlace.bind(this)),e.addEventListener("bindfordeactivate",this.deactivate.bind(this)),this.el.sceneEl.systems.state.subscribe(this)},update:function(){this.parseSelector()},updateInPlace:function(e){var t=this.propertyMap;if("false"!==this.rootEl.getAttribute("data-bind-for-active"))for(var n in e&&(this.itemData=e.detail),t){var i=this.select(this.itemData,t[n]);i!==this.prevValues[n]&&(AFRAME.utils.entity.setComponentProperty(this.el,n,i),this.prevValues[n]=i)}},onStateUpdate:function(){this.updateInPlace()},select:function(e,t){return s.select(this.el.sceneEl.systems.state.state,t,e)},deactivate:function(){this.prevValues={}},parseSelector:function(){var e=this.propertyMap={};this.keysToWatch.length=0;var t=s.split(this.id,"__")[0];if(!(t in AFRAME.components)||AFRAME.components[t].isSingleProp)e[this.id]=this.data,s.parseKeysToWatch(this.keysToWatch,this.data,!0);else for(var n=s.split(this.data,";"),i=0;i<n.length;i++){var a=s.split(n[i],":");e[this.id+"."+a[0].trim()]=a[1].trim(),s.parseKeysToWatch(this.keysToWatch,a[1].trim(),!0)}}})},function(e,t,n){"use strict";var i;e.exports=(i=[],function(e,t,n,a){var s,r,o,l,d,c,u;for(d in l=n||{},i.length=0,e)i.push(d);if(!t)return l;for(o in t)-1===i.indexOf(o)&&i.push(o);for(c=0;c<i.length;c++)d=i[c],a&&-1!==a.indexOf(d)||(s=e[d],r=t[d],((u=s&&r&&s.constructor===Object&&r.constructor===Object)&&!AFRAME.utils.deepEqual(s,r)||!u&&s!==r)&&(l[d]=r));return l})},function(e,t,n){"use strict";var i=["push","pop","shift","unshift","splice"];function a(e,t){var n=e[t];e[t]=function(){n.apply(e,arguments),e.__dirty=!0}}e.exports.wrapArray=function(e){var t;if(!e.__wrapped){for(t=0;t<i.length;t++)a(e,i[t]);e.__wrapped=!0}}}])},e.exports=t()},187:()=>{document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("app");e||(e=document.createElement("div"),e.id="app",document.body.appendChild(e)),e.innerHTML='<a-scene\n    background="color: #87ceeb"\n    fog="type: linear; color: #87ceeb; near: 50; far: 80"\n    leaderboard\n    light="defaultLightsEnabled: false"\n    physics="debug: false"\n    render-order="playfield, thrower, ball, menu, menuitem, menubutton, menutext, hud"\n    renderer="colorManagement: true"\n    shadow="type: pcf"\n>\n    \x3c!-- LIGHT --\x3e\n    <a-entity light="type: ambient; intensity: 0.3;"></a-entity>\n    <a-entity light="type: point; \n        intensity: 1.0; \n        decay: 2;\n        castShadow: true; \n        shadowCameraVisible: false;"\n        position="0 50 0" ></a-entity>    \n    \n    <a-entity fps-counter></a-entity>\n  \n    \x3c!-- Load Assets --\x3e\n    <a-assets timeout="5000">\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrcassets.html"> --\x3e\n\x3c!-- Image --\x3e\n<img id="cursorMeshImg" src="assets/models/laser/laser.png">\n<img id="sliceImg" src="assets/img/border.png">\n\n\x3c!-- Models --\x3e\n<a-entity id="cursorLaser" obj-model="obj: #laserObj" visible="false"></a-entity>\n<a-asset-item id="ballMesh" src="assets/models/ball.gltf"></a-asset-item>\n<a-asset-item id="cloud" src="assets/models/cloud/cloud.obj"></a-asset-item>\n<a-asset-item id="cloudmtl" src="assets/models/cloud/cloud.mtl"></a-asset-item>\n<a-asset-item id="camdrone" src="assets/models/cam drone/model.obj"></a-asset-item>\n<a-asset-item id="camdronemtl" src="assets/models/cam drone/materials.mtl"></a-asset-item>\n<a-asset-item id="forest" src="assets/models/tree/forest.obj"></a-asset-item>\n<a-asset-item id="forestmtl" src="assets/models/tree/forest.mtl"></a-asset-item>\n<a-asset-item id="fountain" scale="2 2 2" src="assets/models/fountain/fountain.obj"></a-asset-item>\n<a-asset-item id="fountainmtl" src="assets/models/fountain/fountain.mtl"></a-asset-item>\n<a-asset-item id="gazebo" position="0 0 16.97724" rotation="0 53 0" src="assets/models/gazebo/gazebo.obj"></a-asset-item>\n<a-asset-item id="gazebomtl" src="assets/models/gazebo/gazebo.mtl"></a-asset-item>\n<a-asset-item id="laserObj" src="assets/models/laser/laser.obj"></a-asset-item>\n<a-asset-item id="pistol" src="assets/models/gun/glock.obj"></a-asset-item>\n<a-asset-item id="pistolmtl" src="assets/models/gun/glock.mtl"></a-asset-item>\n<a-asset-item id="shield" visible="false" scale="2 2 0.5" static-body="sphereRadius: NaN" rotation="0 180 0" src="assets/models/shield/model.obj"></a-asset-item>\n<a-asset-item id="shieldmtl" src="assets/models/shield/materials.mtl"></a-asset-item>\n<a-asset-item id="tank" src="assets/models/tank.gltf"></a-asset-item>\n<a-asset-item id="tree" position="-3.02465 0 -27.95161" src="assets/models/tree/tree.obj"></a-asset-item>\n<a-asset-item id="treemtl" src="assets/models/tree/tree.mtl"></a-asset-item>\n\n\x3c!-- Audio --\x3e\n<a-audio id="bgm" src="assets/audio/bgm_0.mp3" preload="auto"></a-audio>\n\n\x3c!-- Mixin --\x3e\n<a-mixin\n    id="cursorMesh"\n    material="shader: flat; transparent: true; src: #cursorMeshImg; depthTest: false"\n    sub-object="from: #cursorLaser; name: glow"></a-mixin>\n\n<a-mixin\n    id="tree"\n    obj-model="obj: #tree; mtl: #treemtl" \n    scale="0.01 0.01 0.01" \n    shadow="receive: true" \n    render-order="playfield"></a-mixin>\n\n<a-mixin\n    id="font"></a-mixin>\n    \n<a-mixin\n    id="menuButton"\n    geometry="primitive: plane; width:1.5; height:0.35"\n    render-order="menubutton"></a-mixin>\n\n<a-mixin\n    id="menuText"\n    text="color: #000; align: center; width: 1; wrapCount: 12"></a-mixin>\n\n<a-mixin\n    id="scoreText"\n    text="color: #FFF; align: center; \n        width: 1; height: 24;\n        wrapCount: 12"></a-mixin>\n\n<a-mixin id="slice" slice9="color: #CCC; transparent: true; opacity: 1; left: 20; right: 43; top: 20; bottom: 43; padding:0.1; src: #sliceImg;"></a-mixin>\x3c!-- </require> --\x3e</require>\n    </a-assets>\n\n    \x3c!-- Load Templates --\x3e\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesenvironment.html"> --\x3e\n\x3c!-- GROUND --\x3e\n<a-entity id="environment">\n\n    <a-plane\n        id="ground" static-body="sphereRadius: NaN" \n        static-body \n        position="0 0 0" \n        rotation="-90 0 0" \n        width="200" \n        height="200" \n        color="#8ECA58" \n        shadow="receive: true"\n    ></a-plane>\n\n    \x3c!-- Environment Objects --\x3e\n    <a-entity static-body id="tree" position="-3.02465 0 -27.95161" obj-model="obj: #tree; mtl: #treemtl" scale="0.01 0.01 0.01" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity id="fountain" static-body="shape: auto" position="0 0 6" obj-model="obj: #fountain; mtl: #fountainmtl" scale="2 2 2" shadow="receive: true" render-order="playfield"></a-entity>\n    <a-entity id="gazebo" static-body="shape: cylinder" rotation="0 53 0" position="0 0 16.97724" obj-model="obj: #gazebo; mtl: #gazebomtl" scale="1 1 1" shadow="receive: true" render-order="playfield"></a-entity>\n\n    \x3c!-- Clouds --\x3e\n    <a-entity id="cloud" rotation="0 0 0" position="0 50 -25" obj-model="obj: #cloud; mtl: #cloudmtl" scale="0.03 0.03 0.03" shadow="receive: true" render-order="playfield"></a-entity>\n\n    \x3c!-- Tree Barrier --\x3e\n    <a-entity  position="-0 -0.01 0">\n        <a-entity id="forest#1" static-body rotation="0 4.17 0" position="-20 0 -50" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#2" static-body rotation="0 6.02 0" position="-41.93437 0 -40" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#3" static-body rotation="0 0 0" position="-40.06503 0 47.063" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#4" static-body rotation="0 0 0" position="3.75423 0 -54.65186" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#5" static-body rotation="0 -6.47 0" position="27.93435 0 -49.93007" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#6" static-body rotation="0 -7.91 0" position="-57.76219 0 -24.37149" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#7" static-body rotation="0 -36.91 0" position="50.35229 0 -35.96899" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#8" static-body rotation="0 30 0" position="51.79623 0 -11.96787" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#9" static-body rotation="0 35 0" position="-60.37688 0 -4.809" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#10" static-body rotation="0 54.72 0" position="-63.01354 0 15.97112" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#11" static-body rotation="0 75 0" position="-58.24836 0 35.99521" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#12" static-body rotation="0 90 0" position="-15.69636 0 50.60834" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#13" static-body rotation="0 35 0" position="7.59546 0 47.63395" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#14" static-body rotation="0 60 0" position="33.77944 0 48.58182" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#15" static-body rotation="0 70 0" position="53.1873 0 32.42136" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n        <a-entity id="forest#16" static-body rotation="0 60 0" position="58.77273 0 9.27566" obj-model="obj: #forest; mtl: #forestmtl" scale="10 10 10" shadow="receive: true" render-order="playfield"></a-entity>\n    </a-entity>\n\n    </a-entity>\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesmenu.html"> --\x3e\n\x3c!-- Menu Container --\x3e\n<a-entity \n    id="menu"\n    bind__visible="menuActive"\n    position= "0 1.4 -2.3">\n\n    <a-entity\n        id="menuBackground"\n        mixin="slice"\n        slice9="width: 3.5; height: 2; side: double; transparent: true; debug: false;"\n        render-order="menu"\n        position="0 0 -2.5"></a-entity>\n\n    <a-entity id="mainMenu">\n        <a-plane\n            id="startButton" material="fog: true; side: front; transparent: false; wireframe: false; visible: true" geometry="skipCache: false"\n            mixin="menuButton"\n            clickable\n            bind-toggle__raycastable="menuActive"\n            proxy-event="event: click; to: a-scene; as: startgame"\n            position="0 0.3 -2.45"\n            render-order="menu">\n            <a-entity \n                id="startButtonText"\n                mixin="menuText" \n                text="value: Start Game; side: double"></a-entity>\n        </a-plane>\n\n        <a-plane\n            id="leaderboardButton"\n            mixin="menuButton"\n            bind-toggle__raycastable="menuActive"\n            proxy-event="event: click; to: a-scene; as: showleaderboard"\n            position="0 -0.3 -2.45"\n            render-order="menu">\n            <a-entity \n                id="startButtonText" \n                mixin="menuText"\n                text="value: Show Leaderboard"></a-entity>\n        </a-plane>\n    \n    </a-entity>\n\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesleaderboard.html"> --\x3e\n<a-entity\n    id= "leaderboard"\n    position= "3 0 -1.2"\n    rotation= "0 -60 0"\n    bind__visible="menuActive && leaderboardActive"\n    render-order="menuitem">\n\n    <a-entity\n        id="leaderboardBackground"\n        mixin="slice"\n        slice9="width: 3; height: 2.5; side: double"\n        render-order="menuitem"></a-entity>\n\n    <a-entity\n        id="leaderboardTitle"\n        mixin="scoreText"\n        text="align: center; width: 2.5; value: LEADERBOARD"\n        position="0.05 1 0.001"\n        bind__visible="!leaderboardQualified"></a-entity>\n\n    <a-entity\n        id="leaderboardNames"\n        mixin="scoreText"\n        bind__text="color: colorSecondary; value: leaderboard.names"\n        position="-0.7 0.6 0.001"></a-entity>\n    \n      <a-entity\n        id="leaderboardScores"\n        mixin="scoreText"\n        bind__text="value: leaderboard.scores"\n        position="0.7 0.6 0.001"></a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n</a-entity>\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesenemy.html"> --\x3e\n\x3c!-- Placeholder for Thrower --\x3e\n<a-entity id="shooter" \n    static-body\n    gun\n    look-at="#randomTarget"\n    obj-model="obj: #camdrone; mtl: #camdronemtl" \n    position="0 2 -30" \n    rotation="0 0 0"\n    scale="3 3 3" \n    shadow="receive: true">\n\n    <a-entity \n        enemy gun\n        static-body \n        position="0 0 0"\n        rotation="0 -180 0"></a-entity>\n\n    <a-entity \n        id="ball" \n        ball \n        gltf-model="#ballMesh" \n        position="0 0 0" \n        scale="2 2 2" \n        shadow="receive: true"></a-entity>\n\n</a-entity>a\n\n\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesgameOverMenu.html"> --\x3e\n<a-entity id="gameOverContainer"\n    bind__visible="isGameOver"\n    position= "0 1.4 -2.3">\n\n    <a-entity\n        id="menuBackground"\n        mixin="slice"\n        slice9="width: 3.5; height: 2; side: double; transparent: true; debug: false;"\n        render-order="menu"\n        position="0 0.5 -1.5"></a-entity>\n\n        <a-entity \n            id="gameOverMenu"\n            position="0 1 -1.45">\n            \n            <a-entity id="scoreTextContainer">\n                <a-entity\n                    id="scoreText"\n                    bind__text="value: \'Your Score\'"\n                    mixin="scoreText"\n                    position="0 0.2 0"></a-entity>\n\n                <a-entity\n                    id="scoreText"\n                    bind__text="value: score.score"\n                    mixin="scoreText"\n                    position="0 0 0"></a-entity>\n            </a-entity>\n\n            <a-plane\n                id="startButton" \n                material="fog: true; side: front; transparent: false; wireframe: false; visible: true" \n                geometry="skipCache: false"\n                mixin="menuButton"\n                clickable\n                bind-toggle__raycastable="isGameOver"\n                proxy-event="event: click; to: a-scene; as: leaderboardsubmit"\n                position="0 -1 0"\n                render-order="menu">\n                <a-entity \n                    id="startButtonText"\n                    mixin="menuText" \n                    text="value: Submit; side: double"></a-entity>\n            </a-plane>\n        \n        </a-entity>\n\n        <a-entity\n            id="keyboard" rotation="-60 0 0" scale="4 4 4"\n            position="-0.00884 -0.51329 -0.53294"\n            proxy-event__change="event: superkeyboardchange; to: a-scene; as: leaderboardusername"\n            super-keyboard="hand: #mouseCursor; imagePath: assets/img/"></a-entity>\n    \n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesleaderboard.html"> --\x3e\n<a-entity\n    id= "leaderboard"\n    position= "3 0 -1.2"\n    rotation= "0 -60 0"\n    bind__visible="menuActive && leaderboardActive"\n    render-order="menuitem">\n\n    <a-entity\n        id="leaderboardBackground"\n        mixin="slice"\n        slice9="width: 3; height: 2.5; side: double"\n        render-order="menuitem"></a-entity>\n\n    <a-entity\n        id="leaderboardTitle"\n        mixin="scoreText"\n        text="align: center; width: 2.5; value: LEADERBOARD"\n        position="0.05 1 0.001"\n        bind__visible="!leaderboardQualified"></a-entity>\n\n    <a-entity\n        id="leaderboardNames"\n        mixin="scoreText"\n        bind__text="color: colorSecondary; value: leaderboard.names"\n        position="-0.7 0.6 0.001"></a-entity>\n    \n      <a-entity\n        id="leaderboardScores"\n        mixin="scoreText"\n        bind__text="value: leaderboard.scores"\n        position="0.7 0.6 0.001"></a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n    \n</a-entity>\x3c!-- </require> --\x3e</require>\n    \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templates\randomTarget.html"> --\x3e\n<a-entity\n    random-target\n    id="randomTarget"\n    position="0 2 0">\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n    \x3c!-- Audio on Player Location --\x3e\n    <a-entity sound="src: #bgm; autoplay: false; positional: false"></a-entity>\n\n    \x3c!-- Player --\x3e\n    <a-entity \n      id="cameraRig" position="0.11744132142732938 0 0.11111629842663887"\n      movement-controls>\n      <a-camera\n        id="camera"\n        look-controls="pointerLockEnabled: true"\n        position="0 2 0">\n\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templatesscoreboard.html"> --\x3e\n<a-entity\n    id="scoreboard"\n    bind__visible="isPlaying"\n    render-order="hud"\n    position="2.5 2 -3"\n    rotation="-10 -40 0">\n\n    \x3c!-- Create Transparent background --\x3e\n    <a-entity\n        id="scoreboardBackground"\n        mixin="slice"\n        slice9="width: 1; height: 0.8;; side: double"           \n        render-order="menu"></a-entity>\n\n    <a-entity id="scoreContainer">\n        <a-entity\n            id="score" text="side: front"\n            bind__text="value: score.score"\n            mixin="scoreText"\n            position="0 0.15 0"></a-entity>\n        <a-entity\n            id="streak"\n            bind__text="value: score.streak + \'x\'"\n            mixin="scoreText"\n            position="0 -0.15 0"></a-entity>\n    </a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n        \x3c!-- <require path="C:UsersROGDesktopwebxr-assignment-Iotatfansrc\templateslife.html"> --\x3e\n<a-entity\n    id="life"\n    bind__visible="isPlaying"\n    render-order="hud"\n    position="-2.5 2 -3"\n    rotation="-10 40 0">\n\n    <a-entity\n        id="lifeTextBackground"\n        mixin="slice"\n        slice9="width: 1; height: 0.5;; side: double"           \n        render-order="menu"></a-entity>\n\n    <a-entity id="lifetextContainer">\n        <a-entity\n            id="lifeText"\n            bind__text="value: \'Life \' + life"\n            mixin="scoreText"\n            position="0 0 0"></a-entity>\n    </a-entity>\n\n</a-entity>\x3c!-- </require> --\x3e</require>\n\n        <a-entity\n          id="mouseCursor"\n          cursor="rayOrigin: mouse"\n          raycaster="objects : #keyboard"\n          proxy-event__daydream="event: trackpaddown; to: #gun; as: triggerdown"\n          proxy-event__shoot="event: triggerdown; to: #gun; as: shoot"\n          proxy-event__shootsound="event: triggerdown; to: #soundShoot; as: shoot"\n          shooter\n          position="0.07 -0.1 -0.15"\n          rotation="0 5 0"\n          click-to-shoot>\n          <a-entity \n            obj-model="obj: #pistol; mtl: #pistolmtl" \n            position="0 -1 -0.3"\n            rotation="0 -90 0"\n            scale="0.1 0.1 0.1"></a-entity>\n        </a-entity>\n\n      </a-camera>\n    </a-entity>\n  \n    \x3c!-- Controller --\x3e\n    <a-entity\n      shooter\n      id="rightGun"\n      vive-controls="hand: right; model: false;"\n      oculus-touch-controls="hand: right; model: false;"\n      daydream-controls="hand: right; model: false"\n      proxy-event__daydream="event: trackpaddown; to: #rightGun; as: triggerdown"\n      proxy-event__shoot="event: triggerdown; to: #rightGun; as: shoot"\n      raycaster="objects: [raycastable];">\n      <a-entity \n        obj-model="obj: #pistol; mtl: #pistolmtl" \n        position="0 -0.2 -0.3"\n        rotation="0 -90 0"\n          scale="0.2 0.2 0.2"></a-entity>\n    </a-entity>\n\n    <a-entity\n      target\n      id="leftControl"\n      vive-controls="hand: left; model: false;"\n      oculus-touch-controls="hand: left; model: false;"\n      daydream-controls="hand: left; model: false"\n      cursor="rayOrigin: mouse"\n      raycaster="objects: [raycastable];">\n      <a-entity \n        obj-model="obj: #shield; mtl: #shieldmtl" \n        position="0 -0.2 -0.3"\n        rotation="0 -90 0"\n        scale="1.2 1.2 1.2"></a-entity>\n    </a-entity>\n    \n</a-scene>'}))},22:()=>{var e,t,n;AFRAME.registerComponent("ball",{schema:{direction:{type:"vec3"},lifeTime:{default:5,type:"float"},name:{default:"normal",type:"string"},poolSize:{default:8,type:"float"},position:{type:"vec3"},speed:{default:10,type:"float"}},init:function(){var e=this.el;e.object3D.visible=!1,e.addEventListener("object3dset",(t=>{e.sceneEl.systems.ball.registerBall(this)}))},update:function(e){},remove:function(){},tick:function(e,t){},play:function(){}}),AFRAME.registerSystem("ball",{init:function(){var e;(e=document.createElement("a-entity")).id="ballContainer",this.el.sceneEl.appendChild(e),this.container=e.object3D,this.pool={},this.targets=[]},registerBall:function(e){var t,n,i,a;if(a=e.el.object3D)for(n=e.data,this.pool[n.name]=[],i=0;i<n.poolSize;i++)(t=a.clone()).direction=new THREE.Vector3(0,1,-1),t.lifeTime=1e3*n.lifeTime,t.name=n.name+i,t.speed=n.speed,t.time=0,t.visible=!1,this.pool[n.name].push(t)},registerTarget:function(e,t){var n;this.targets.push(e.el),t&&((n=e.el.object3D).boundingBox=(new THREE.Box3).setFromObject(n))},shoot:function(e,t){var n,i=0,a=0,s=this.pool[e];if(void 0!==s){for(n=0;n<s.length;n++){if(!1===s[n].visible)return this.shootBall(s[n],t);s[n].time>a&&(i=n,a=s[n].time)}return this.shootBall(s[i],t)}},shootBall:function(e,t){return e.visible=!0,e.time=0,t.getWorldPosition(e.position),t.getWorldDirection(e.direction),e.direction.multiplyScalar(-e.speed),this.container.add(e),e},tick:(e=new THREE.Box3,t=new THREE.Vector3,n=new THREE.Box3,function(i,a){var s,r,o,l,d;for(r=0;r<this.container.children.length;r++)if((s=this.container.children[r]).visible)if(s.time+=a,s.time>=s.lifeTime)this.el.emit("miss"),this.destroyBall(s);else for(t.copy(s.direction).multiplyScalar(a/850),s.position.add(t),e.setFromObject(s),d=0;d<this.targets.length;d++){let t=this.targets[d];if(t.getAttribute("target").active&&(o=!1,(l=t.object3D).boundingBox?o=l.boundingBox.intersectsBox(e):(n.setFromObject(l),o=n.intersectsBox(e)),o)){this.destroyBall(s),t.components.target.onBallHit(s),t.emit("hit",null);break}}}),destroyBall:function(e){e.visible=!1}})},179:()=>{AFRAME.registerComponent("click-to-shoot",{init:function(){document.body.addEventListener("mousedown",this.shoot.bind(this))},shoot:function(){this.el.sceneEl.systems.state.state.isPlaying&&this.el.emit("shoot")}})},6:()=>{},389:()=>{AFRAME.registerComponent("enemy",{schema:{activeBall:{type:"string",default:"normal"},ballTypes:{type:"array",default:["normal"]},cycle:{default:!1},isPlaying:{default:!1},shootingDelay:{default:1e3},lastShootTime:{default:0}},init:function(){this.el.addEventListener("enemyShoot",this.onShoot.bind(this)),this.ballSystem=this.el.sceneEl.systems.ball},onShoot:function(){this.ballSystem.shoot(this.data.activeBall,this.el.object3D)},tick:function(e,t){var n=this.data,i=this.el;this.isPlaying=i.sceneEl.systems.state.state.isPlaying,e-n.lastShootTime>=n.shootingDelay&&this.isPlaying&&(n.lastShootTime=e,i.emit("enemyShoot"))},play:function(){}})},28:()=>{AFRAME.registerComponent("leaderboard",{schema:{apiKey:{type:"string",default:"AIzaSyAHTk_2RY9VNYa5BTz5Kwnb_s8SRsREgW8"},authDomain:{type:"string",default:"webxr-iotatfan.firebaseapp.com"},databaseURL:{type:"string",default:"webxr-iotatfan.firebaseio.com"},projectId:{type:"string",default:"webxr-iotatfan"},storageBucket:{type:"string",default:"webxr-iotatfan.appspot.com"}},init:function(){this.scores=[],this.eventDetail={scores:this.scores},this.addEventDetail={scoreData:void 0,index:void 0},this.el,firebase.initializeApp({apiKey:this.data.apiKey,authDomain:this.data.authDomain,databaseURL:this.data.databaseURL,projectId:this.data.projectId,storageBucket:this.data.storageBucket}),this.firestore=firebase.firestore(),this.firestore.settings({}),this.db=this.firestore.collection("scores"),this.username=localStorage.getItem("leaderboardusername"),this.el.addEventListener("leaderboardusername",(e=>{this.username=e.detail.value,console.log(this.username),localStorage.setItem("username",this.username)})),this.el.addEventListener("leaderboardsubmit",this.addScore.bind(this)),this.el.addEventListener("showleaderboard",this.fetchScore.bind(this))},update:function(){},addScore:function(){const e=this.el.sceneEl.systems.state.state,t={score:e.score.score,streak:e.score.highestStreak,username:this.username,time:new Date};console.log(t),this.db.add(t),this.addEventDetail.scoreData=t,this.el.emit("backtomenu")},fetchScore:function(){this.el.sceneEl.systems.state,this.db.orderBy("score","desc").limit(10).get().then((e=>{this.scores.length=0,e.empty||e.forEach((e=>this.scores.push(e.data()))),this.el.sceneEl.emit("leaderboard",this.eventDetail,!1)})).catch((e=>{console.error("[firestore",e)}))}})},597:()=>{},916:()=>{var e=[-5,-4,-3,-2,-1,0,1,2,3,4,5],t=[1,2];AFRAME.registerComponent("random-target",{schema:{moveDelay:{default:500},lastMoveTime:{defaul:0},isPlaying:{default:!1}},init:function(){},update:function(){},remove:function(){},tick:function(n,i){let a=this.el.object3D,s=this.data;this.isPlaying=this.el.sceneEl.systems.state.state.isPlaying,n-s.lastMoveTime>=s.moveDelay&&this.isPlaying&&(s.lastMoveTime=n,a.position.x=e[Math.floor(Math.random()*e.length)],a.position.y=t[Math.floor(Math.random()*t.length)])}})},968:()=>{AFRAME.registerComponent("score",{schema:{},init:function(){},update:function(){},remove:function(){},tick:function(e,t){}})},134:()=>{AFRAME.registerComponent("shooter",{schema:{activeBall:{type:"string",default:"normal"},ballTypes:{type:"array",default:["normal"]},cycle:{default:!1},isPlaying:{default:!1},shootingDelay:{default:1e3},lastShootTime:{default:0}},init:function(){this.el.addEventListener("shoot",this.onShoot.bind(this)),this.ballSystem=this.el.sceneEl.systems.ball},onShoot:function(){this.ballSystem.shoot(this.data.activeBall,this.el.object3D)},tick:function(e,t){this.data;var n=this.el;this.isPlaying=n.sceneEl.systems.state.state.isPlaying},play:function(){}})},921:()=>{AFRAME.registerComponent("target",{schema:{active:{default:!0},healthPoints:{default:1,type:"float"},static:{default:!0}},init:function(){let e=this.el;e.addEventListener("object3dset",(t=>{e.sceneEl.systems.ball.registerTarget(this,this.data.static)}))},update:function(e){},onBallHit:function(e){this.data.active&&(this.lastBallHit=e)}})},383:()=>{AFRAME.registerState({initialState:{isGameOver:!1,isPlaying:!1,leaderboard:{names:"",scores:"",length:0},leaderboardActive:!1,life:5,menuActive:!0,score:{catch:0,highestStreak:0,score:0,streak:0},shooter:{direction:"0 1 0",speed:2}},handlers:{backtomenu:e=>{e.menuActive=!0,e.isGameOver=!1,e.isPlaying=!1},startgame:e=>{e.isGameOver=!1,e.isPlaying=!0,e.menuActive=!1,e.leaderboardActive=!1,e.life=5,function(e){e.score.catch=0,e.score.highestStreak=0,e.score.score=0,e.score.streak=0}(e)},showleaderboard:e=>{e.menuActive=!0,e.leaderboardActive=!0},leaderboard:(e,t)=>{console.log(t.scores),e.leaderboard.length=0,e.leaderboard.names="",e.leaderboard.scores="";for(let n=0;n<t.scores.length;n++){let i=t.scores[n];console.log(i),e.leaderboard.names+=`#${n+1} ${i.username}\n`,e.leaderboard.scores+=`${i.score}\n`}},leaderboardusername(){},miss:e=>{e.score.streak>e.score.highestStreak&&(e.score.highestStreak=e.score.streak),e.score.streak=0,e.life-=1,function(e){e.life<=0&&(e.isGameOver=!0,e.isPlaying=!1)}(e)},hit:e=>{e.score.score+=Math.floor(300+210*e.score.streak/25),e.score.streak+=1,e.score.catch+=1},leaderboardsubmit:e=>{console.log("Submitting Score")}},computeState:e=>{e.isPlaying=!e.isGameOver&&!e.menuActive&&!e.leaderboardActive}})},775:(e,t,n)=>{var i={"./ball.js":22,"./click-to-shoot.js":179,"./custom-controls.js":6,"./enemy.js":389,"./leaderboard.js":28,"./play-sound.js":597,"./random-target.js":916,"./score.js":968,"./shooter.js":134,"./target.js":921};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id=775}},n={};function i(e){if(n[e])return n[e].exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,i),a.exports}i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i(972),i(238),i(571),i(479),i(596),i(187),i(383),(e=i(775)).keys().forEach(e)})();